!function(){var e="(max-width: 50rem)";class t{_KEYS={ESC:27,SPACE:32,ENTER:13,TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};#focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), select, details, audio, video, object, [contenteditable=""], [contenteditable="true"], [tabindex]:not([tabindex="-1"])';#defaultOptions={focusTrap:!1,collapseOnFocusOut:!1};#destroyed=!1;constructor(e){this._options=Object.assign(this.#defaultOptions,e),this._$el=document.querySelector(this._options.selector),this.#check()?(this._getFocusableContent(),this._$lastFocusableEl=this._$el.querySelector('[data-select-last="true"]'),this.#init()):this._hasErrors=!0}#check(){return this._$el?!(void 0!==this._options.matchMedia&&!window.matchMedia(this._options.matchMedia).matches):(console.error("Не найден класс - "+this._options.selector),!1)}#init(){this._$el.addEventListener("click",e=>this._mainElClick(e)),this._$el.addEventListener("keydown",e=>this._checkPress(e),!0),this._$lastFocusableEl&&(this._$lastFocusableEl.tabIndex=-1),this._$focusableContent=this._$focusableContent.filter(e=>{if(e!==this._$lastFocusableEl)return e})}#focusTrapAndCollapse(e){const t=this._$focusableContent[0],s=this._$focusableContent[this._$focusableContent.length-1],i=this._$lastFocusableEl;e.shiftKey?document.activeElement!==t&&document.activeElement!==i||(i&&document.activeElement!==i&&!this._options.collapseOnFocusOut?i.focus():(this._options.collapseOnFocusOut&&this.close(),s.focus()),e.preventDefault()):document.activeElement!==s&&document.activeElement!==i||(i&&document.activeElement!==i?i.focus():(this._options.collapseOnFocusOut&&this.close(),t.focus()),e.preventDefault())}_checkPress(e){e.keyCode===this._KEYS.ESC&&this.close(),"Tab"!==e.key&&e.keyCode!==this._KEYS.TAB||(this._options.focusTrap||this._options.collapseOnFocusOut)&&this.#focusTrapAndCollapse(e)}_mainElClick(e){(e.target.closest('[data-close="true"]')||e.target.dataset.close)&&this.close()}_getFocusableContent(){this._$focusableContent=[...this._$el.querySelectorAll(this.#focusableElements)]}open(){if(this.#destroyed)return console.error(`Объект с классом - ${this._options.selector} уничтожен и не может быть "Открыт"`);this._options.activeClass?this._$el.classList.add(this._options.selector.slice(1)+this._options.activeClass):this._$el.removeAttribute("hidden",""),document.body.style.overflow="hidden"}close(){this.destroy(),this._options.activeClass?this._$el.classList.remove(this._options.selector.slice(1)+this._options.activeClass):this._$el.setAttribute("hidden",""),document.body.style.overflow=""}destroy(){this._$el.removeEventListener("click",e=>this._mainElClick(e)),this._$el.removeEventListener("keydown",e=>this._checkPress(e),!0)}}m=new class extends t{#defaultOptions={overlay:!0,overlayBg:"rgba(0,0,0, 0.5)",overlayZindex:"0"};#OVERLAY_ANIMTAION_TIME=300;#$activeOpenBtn;constructor(e){super(e),this.#check()&&(this._options=Object.assign(this.#defaultOptions,this._options),this._$openBtns=document.querySelectorAll(this._options.openBtnsSelector),this.#init())}#check(){return!this._hasErrors}#init(){if(this._$el.setAttribute("role","dialog"),this._$el.setAttribute("aria-modal","true"),this._$el.setAttribute("aria-hidden","true"),this._options.overlay){const e=document.createElement("div");e.style.backgroundColor=this._options.overlayBg,e.style.position="fixed",e.style.inset="auto",e.style.opacity=0,e.classList.add(this._options.selector.slice(1)+"__overlay"),e.style.zIndex=this._options.overlayZindex,e.style.transition=`all ${this.#OVERLAY_ANIMTAION_TIME}ms ease`,e.addEventListener("click",this.close.bind(this)),"static"===this._$el.querySelector(":first-child").style.position&&(this._$el.querySelector(":first-child").style.position="relative"),this._$el.querySelector(":first-child").style.zIndex=toString(parseInt(this._options.overlayZindex)+1),this._$el.insertBefore(e,this._$el.firstChild)}this._options.activeClass&&this._$focusableContent.forEach(e=>{e.tabIndex=-1}),this._$openBtns&&this._$openBtns.forEach(e=>{e.setAttribute("aria-haspopup","dialog"),e.addEventListener("click",this.open.bind(this))})}open(){setTimeout(()=>{"false"!==this._$el.getAttribute("aria-hidden")?(this.#$activeOpenBtn=document.activeElement,super.open(),this._options.activeClass&&this._$focusableContent.forEach(e=>{e.dataset.selectLast||e.removeAttribute("tabindex")}),this._$el.setAttribute("aria-hidden","false"),0<this._$focusableContent.length&&this._$focusableContent[0].focus(),this._$el.querySelector(":first-child").style.inset="0",this._$el.querySelector(":first-child").style.opacity="1"):this.close()},1)}close(){super.close(),this._options.activeClass&&this._$focusableContent.forEach(e=>{e.tabIndex=-1}),setTimeout(()=>{-1!==this.#$activeOpenBtn.tabIndex&&this.#$activeOpenBtn.focus(),"function"==typeof this._options.onClose&&this._options.onClose()},1),this._$el.querySelector(":first-child").style.opacity="0",setTimeout(()=>{this._$el.querySelector(":first-child").style.inset="auto"},this.#OVERLAY_ANIMTAION_TIME),this._$el.setAttribute("aria-hidden","true")}}({selector:".nav",openBtnsSelector:['[data-name="header-modal"]'],focusTrap:!0,collapseOnFocusOut:!1,activeClass:"--active",overlay:!1,matchMedia:e});const i=document.querySelector(".discover"),o=document.querySelector(".discover__burger");if(window.addEventListener("load",function(e){i.classList.remove("loading"),o.classList.add("descover__first");const t=o.getAnimations().length;let s=0;o.addEventListener("animationend",()=>{s++,s===t&&(o.classList.remove("descover__first"),o.dataset.type="explosion")}),function(){const c=document.querySelector("#ingredient"),d=document.querySelector(".ingredients");let t;!function(e,t){var s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",e,!0),s.onreadystatechange=function(){4===s.readyState&&"200"==s.status&&t(s.responseText)},s.send(null)}("../files/data/data.json",function(e){t=JSON.parse(e),t.forEach((e,t)=>{if(e.auto)return u.push(e),void 0;const s=c.content.cloneNode(!0),i=document.createElement("img"),o=s.querySelector(".ingredient__name"),a=s.querySelector(".ingredient__plus"),n=s.querySelector(".ingredient__minus");var l=s.querySelector(".ingredient__amount");i.classList.add("ingredient__img"),i.src=e.img,o.innerHTML=e.name,d.appendChild(s);const r=d.querySelector(".ingredient:last-of-type");r.insertBefore(i,o),e.amount=l,a.addEventListener("click",()=>h(e)),n.addEventListener("click",()=>_(e))}),h(u[1])})}()}),window.matchMedia(e).matches){const C=document.querySelector('.nav__item[href="#burger"]'),F=document.querySelector('.nav__item[href="#discover"]'),O=document.querySelector("#burger");window.onscroll=()=>{!function(e){e=e.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}(O)?(F.setAttribute("aria-selected","true"),C.removeAttribute("aria-selected")):(C.setAttribute("aria-selected","true"),F.removeAttribute("aria-selected"))}}else{const k=document.querySelector(".nav__box"),L=[...document.querySelectorAll(".tab-item")],w=[...document.querySelectorAll(".tab-panel")];let o=0;k.setAttribute("role","tablist"),L[o].setAttribute("aria-selected","true"),w.forEach(e=>e.setAttribute("role","tabpanel")),w.filter((e,t)=>t!==o).forEach(e=>{e.hidden=!0}),L.forEach((t,e)=>{t.setAttribute("role","tab");const s=t.querySelector("a");s.getAttribute("href").slice(1);s.setAttribute("role","presentation"),s.setAttribute("tabindex","0"),s.removeAttribute("href"),t.setAttribute("id","tab-"+e),t.setAttribute("aria-controls","panel-"+e),t.dataset.number&&(e=parseInt(t.dataset.number)),w[e].setAttribute("id","panel-"+e),w[e].setAttribute("aria-labelledby","tab-"+e);const i=e=>{o=L.indexOf(e),e.dataset.number&&(o=parseInt(e.dataset.number)),L[o].setAttribute("aria-selected","true"),L[o].querySelector("a").setAttribute("aria-selected","true"),w[o].hidden=!1,L.filter((e,t)=>t!==o).forEach(e=>{e.setAttribute("aria-selected","false"),e.querySelector("a").setAttribute("aria-selected","false")}),w.filter((e,t)=>t!==o).forEach(e=>{e.hidden=!0})};t.addEventListener("click",()=>i(t)),t.addEventListener("keydown",e=>{13===e.keyCode&&i(t)})})}const a=document.querySelector(".burger__checkout-summ"),n=[...document.querySelectorAll(".burger__summary-data-name")],u=[],h=s=>{a.dataset.price=(parseFloat(a.dataset.price)+s.price).toFixed(2),n.forEach(e=>{if("min"===e.dataset.name&&(e.dataset.value=(parseFloat(e.dataset.value)+s.min).toFixed(2)),"oz"===e.dataset.name&&(e.dataset.value=(parseFloat(e.dataset.value)+s.oz).toFixed(1)),"kcal"===e.dataset.name){const t=parseFloat(e.dataset.value)+s.kcal;e.dataset.value=t.toFixed(0),g(t)}}),s.amount&&s.amount.dataset.value++,function(e){var t=[...r.querySelectorAll(".burger__scene-element")];f&&(clearTimeout(f),f=null);0<t.length&&(f=setTimeout(()=>{h(u[0]),clearTimeout(f),f=null},l));null!==r.querySelector(`[data-name="${u[0].name}"]`)&&(_(u[0]),c-=u[0].width);const s=document.createElement("img"),i=d+e.width;s.classList.add("burger__scene-element"),s.src=e.img_group||e.img,s.setAttribute("alt",e.name),s.setAttribute("data-name",e.name),s.style.bottom=i+"%",s.style.opacity=0,v=e.width*y,r.appendChild(s),setTimeout(()=>{s.style.bottom=c+"%",s.style.opacity=1,c+=e.width+v},1)}(s)},_=s=>{s.amount&&0===parseInt(s.amount.dataset.value)||(a.dataset.price=(parseFloat(a.dataset.price)-s.price).toFixed(2),n.forEach(e=>{if("min"===e.dataset.name&&(e.dataset.value=(parseFloat(e.dataset.value)-s.min).toFixed(0)),"oz"===e.dataset.name&&(e.dataset.value=(parseFloat(e.dataset.value)-s.oz).toFixed(1)),"kcal"===e.dataset.name){const t=parseFloat(e.dataset.value)-s.kcal;e.dataset.value=t.toFixed(0),g(t)}}),s.amount&&s.amount.dataset.value--,function e(t){if(p)return void b.push(t);f&&(clearTimeout(f),f=null);p=!0;const s=r.querySelectorAll(`[data-name="${t.name}"]`);if(0<s.length){const i=[...r.querySelectorAll(".burger__scene-element")],o=i.indexOf(s[s.length-1]);s[s.length-1].classList.add("burger__scene-element--delete"),s[s.length-1].addEventListener("animationend",()=>{r.removeChild(s[s.length-1]),p=!1,0<b.length&&(e(b[0]),b.shift())}),v=t.width*y,c-=t.width-v;for(let e=o+1;e<i.length;e++){const a=i[e],n=parseInt(a.style.bottom,10)-t.width-v;a.style.bottom=n+"%"}}}(s))};const l=3e3,r=document.querySelector(".burger__scene");let c=0;const d=80;let p=!1,b=[];const y=window.matchMedia(e).matches?0:.4;let v,f;const s=document.querySelector(".burger__question"),g=e=>{3e3<e?s.classList.add("burger__question--show"):s.classList.remove("burger__question--show")},E=document.querySelector(".burger__ketchup"),A=document.querySelector(".burger__additionally"),$=A.querySelector(".burger__additionally-name"),S=A.querySelector(".burger__additionally-params").dataset.value,q=document.querySelector('.burger__summary-data-name[data-name="oz"]');A.addEventListener("click",()=>{E.classList.toggle("burger__ketchup--show"),"+"===$.dataset.content?($.dataset.content="-",q.dataset.value=(parseFloat(q.dataset.value)+parseFloat(S)).toFixed(1)):($.dataset.content="+",q.dataset.value=(parseFloat(q.dataset.value)-parseFloat(S)).toFixed(1))})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXMiOlsic2NyaXB0Lm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBmb3JtVmFsaWQgfSBmcm9tIFwiL2pzL21vZHVsZXMvZm9ybVZhbGlkYXRpb24ubWluLmpzXCI7XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAoXCJ1c2Ugc3RyaWN0XCIpO1xyXG4gICBjb25zdCBtYXRjaE1lZGlhID0gJyhtYXgtd2lkdGg6IDUwcmVtKSc7XHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDRiNGA0LjRhNGC0L7QsiDRh9C10YDQtdC3INGB0LrRgNC40L/Rgi0tLS0tLS0tLS0tLVxyXG4gICAvLyBpbmNsdWRlKCdtb2R1bGVzL19mb250cy5qcycpXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRg9C30LrQsCDQutC70LDRgdGB0LAg0JDQutC60LDRgNC00LjQvtC9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyBpbmNsdWRlKCdtb2R1bGVzL19hY2NvcmRpb24uanMnKVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAg0JLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAvLyDQlNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80Ysg0L3QsCDRgdCw0LnRgtC1XHJcbmNsYXNzIEZvcm1WYWxpZCB7XHJcbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5jb25zdHJ1Y3Rvck9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICB0aGlzLmluaXQoKTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICAgICBlcnJvckNsYXNzTmFtZTogXCJhcHBvaW50bWVudC1mb3JtX19lcnJvclwiLFxyXG4gICAgICAgICBpbnB1dENsYXNzTmFtZTogXCJpbnB1dFwiLFxyXG4gICAgICAgICBpbnZhbGlkQ2xhc3NOYW1lOiBcImludmFsaWRcIixcclxuICAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcItCX0LDQv9C+0LvQvdC40YLQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LVcIixcclxuICAgICAgICAgICAgZW1haWw6IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C5IGVtYWlsXCIsXHJcbiAgICAgICAgICAgIHR5cGU6IFwi0J3QtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiDRhNC+0YDQvNCw0YLRgyDQv9C+0LvRj1wiLFxyXG4gICAgICAgICAgICBwYXR0ZXJuOiBcItCd0LUg0YHQvtC+0YLQstC10YLRgdGC0LLRg9C10YIg0YTQvtGA0LzQsNGC0YMg0L/QvtC70Y9cIixcclxuICAgICAgICAgICAgdG9vU2hvcnQ6IFwi0KHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVwiLFxyXG4gICAgICAgICAgICB0b29Mb25nOiBcItCh0LvQuNGI0LrQvtC8INC00LjQvdC90L7QtVwiLFxyXG4gICAgICAgICAgICBzdGVwTWlzbWF0Y2g6IFwi0J3QtdCy0LXRgNC90YvQuSDRiNCw0LMgKNCy0LLQtdC00LXQvdC90YvQuSDQtNC40LDQv9C+0LfQvtC9KVwiLFxyXG4gICAgICAgICAgICByYW5nZVVuZGVyZmxvdzogXCLQnNC10L3RjNGI0LUg0LTQuNCw0L/QvtC30L7QvdCwXCIsXHJcbiAgICAgICAgICAgIHJhbmdlT3ZlcmZsb3c6IFwi0JHQvtC70YzRiNC1INC00LjQsNC/0L7Qt9C+0L3QsFwiLFxyXG4gICAgICAgICAgICBjdXN0b21FcnJvcjogXCLQntGI0LjQsdC60LBcIixcclxuICAgICAgICAgICAgYmFkSW5wdXQ6IFwiYmFkSW5wdXRcIixcclxuICAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgdGhpcy5jb25zdHJ1Y3Rvck9wdGlvbnMpO1xyXG5cclxuICAgICAgdGhpcy5mb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJmb3JtXCIpO1xyXG4gICAgICBpZiAoIXRoaXMuZm9ybXMpIGNvbnNvbGUuZXJyb3IoXCLQpNC+0YDQvNCwINC90LAg0YHRgtGA0LDQvdC40YbQtSDQvdC1INC90LDQudC00LXQvdCwXCIpO1xyXG5cclxuICAgICAgdGhpcy5mb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICAgICAgIC8vIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIlwiKTtcclxuICAgICAgICAgY29uc3QgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XHJcblxyXG4gICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstGP0LvQtdC8INC10LvQtdC80LXQvdGCINC00LvRjyDQstGL0LLQvtC00LAg0L7RiNC40LHQvtC6XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmVycm9yQ2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgZXJyb3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xyXG4gICAgICAgICAgICBpbnB1dC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBlcnJvcik7XHJcblxyXG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoZSkgPT4gdGhpcy52YWxpZGF0ZShlKSk7XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tWYWxpZChlKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L/QvtC70Y8g0L3QsCDQstCw0LvQuNC00LDRhtC40Y5cclxuICAgc3RhdGljIHZhbGlkYXRlKGlucHV0KSB7XHJcbiAgICAgIGlmIChpbnB1dC50YXJnZXQpIGlucHV0ID0gaW5wdXQudGFyZ2V0O1xyXG4gICAgICBjb25zdCBlcnJvciA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgLy8gY29uc3QgaW5wdXRUeXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcclxuICAgICAgLy8gbGV0IHBhdHRlcm4gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJwYXR0ZXJuXCIpO1xyXG5cclxuICAgICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWx1ZU1pc3NpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnJlcXVpcmVkKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L/QviDRgtC40L/Rg1xyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudHlwZU1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy50eXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L/QviDQv9Cw0YLRgtC10YDQvdGDXHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnBhdHRlcm4pO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDRgdC70LjRiNC60L7QvCDQutC+0YDQvtGC0LrQvtC1XHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS50b29TaG9ydCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMudG9vU2hvcnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDRgdC70LjRiNC60L7QvCDQutC+0YDQvtGC0LrQvtC1XHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS50b29Mb25nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy50b29Mb25nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkuc3RlcE1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5zdGVwTWlzbWF0Y2gpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvNC10L3RjNGI0LUg0LTQuNCw0L/QvtC30L7QvdCwXHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS5yYW5nZVVuZGVyZmxvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMucmFuZ2VVbmRlcmZsb3cpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQsdC+0LvRjNGI0LUg0LTQuNCw0L/QvtC30L7QvdCwXHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS5yYW5nZU92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5yYW5nZU92ZXJmbG93KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LrQsNGB0YLQvtC80L3QsNGPINC+0YjQuNCx0LrQsFxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkuY3VzdG9tRXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLmN1c3RvbUVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAgYmFkSW5wdXRcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LmJhZElucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5iYWRJbnB1dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLmludmFsaWRDbGFzc05hbWV9YCk7XHJcbiAgICAgIGVycm9yLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgIH1cclxuXHJcbiAgIC8vINCh0L7QvtCx0YnQsNC10Lwg0L7QsSDQvtGI0LjQsdC60LUg0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgIHN0YXRpYyBzZXRJbnZhbGlkKGlucHV0LCB0ZXh0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yID0gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLmludmFsaWRDbGFzc05hbWV9YCk7XHJcbiAgICAgIGVycm9yLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgIH1cclxuXHJcbiAgIC8vINCf0YDQvtCy0LXRgNGP0YIg0L/QvtC70Y8g0L/QtdGA0LXQtCDQvtGC0L/RgNCw0LLQutC+0LksINCyINGB0LvRg9GH0LDQtSwg0LXRgdC70Lgg0L/QviDQvdC40Lwg0L3QtSDQv9GA0L7RhdC+0LTQuNC70Lgg0LjQu9C4INC90LUg0LfQsNC80LXRgtC40LvQuCDQvtGI0LjQsdC60YNcclxuICAgc3RhdGljIGNoZWNrVmFsaWQoZSkge1xyXG4gICAgICBsZXQgZXJyb3JFbGVtZW50cyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICBjb25zdCBmb3JtID0gdHlwZW9mIGUuY3VycmVudFRhcmdldCA9PT0gXCJvYmplY3RcIiA/IGUuY3VycmVudFRhcmdldCA6IGU7XHJcbiAgICAgIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBlLmN1cnJlbnRUYXJnZXQgPT09IFwib2JqZWN0XCIpIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgIGVycm9yRWxlbWVudHMucHVzaCh0aGlzLnZhbGlkYXRlKGlucHV0KSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXJyb3JFbGVtZW50cyA9IGVycm9yRWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgIHJldHVybiBlbGVtZW50ICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGVycm9yRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgIGZvcm0uc3VibWl0KCk7XHJcbiAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlcnJvckVsZW1lbnRzWzBdLnByZXZpb3VzU2libGluZy5mb2N1cygpO1xyXG4gICB9XHJcbn1cclxuXHJcbi8vINCS0YvQvdC10YHRgtC4INGN0YLQvtGCINC80L7QtNGD0LvRjCDQstCy0LjQtNC1INC+0YLQtNC10LvRjNC90L7Qs9C+INC/0YDQvtC10LrRgtCwLCDQstGL0LLQtdGB0YLQuCDQvdCwINCz0LjRgtGF0LDQsSDRgSDQvtC/0LjRgdCw0L3QuNC10LxcclxuXHJcbi8vIC0tLS0tLS0tLS0t0J/RgNC40LzQtdGAINGA0LDQsdC+0YLRiyDRgSDQutC90L7Qv9C60L7QuSDRhNC+0YDQvNGLINC+0YLQv9GA0LDQstC60Lgg0LHQtdC3IHN1Ym1pdC0tLS0tLS0tLS0tLS0tLS1cclxuLy8gY29uc3Qgc3VibWl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXBwb2ludG1lbnQtZm9ybV9fc3VibWl0XCIpO1xyXG4vLyBzdWJtaXRCdG5zLmZvckVhY2goKHN1Ym1pdEJ0bikgPT4ge1xyXG4vLyAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbi8vICAgICAgIGNvbnN0IHRoaXNGb3JtID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoXCJmb3JtXCIpO1xyXG4vLyAgICAgICBpZiAoRm9ybVZhbGlkLmNoZWNrVmFsaWQodGhpc0Zvcm0pKSB7XHJcbi8vICAgICAgICAgIGNvbnNvbGUubG9nKFwi0J7RgtC/0YDQsNCy0LvRj9C10Lwg0YTQvtGA0LzRg1wiKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICB9KTtcclxuLy8gfSk7XHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAg0KHQvtCx0YvRgtC40LkgXCLQutCw0YHQsNC90LjQuVwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyBpbmNsdWRlKCdtb2R1bGVzL19ldmVudFRvdWNoLmpzJylcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwIFwi0J7QsdGJ0LXQs9C+INC60LvQsNGB0YHQsFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvKipcclxuICog0J7QsdGJ0LjQuSDQutC70LDRgdGBINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0LzQvtC00YPQu9GP0LzQuCBES1xyXG4gKlxyXG4gKlxyXG4gKi9cclxuXHJcbmNsYXNzIE5vZGFESyB7XHJcbiAgIF9LRVlTID0ge1xyXG4gICAgICBFU0M6IDI3LFxyXG4gICAgICBTUEFDRTogMzIsXHJcbiAgICAgIEVOVEVSOiAxMyxcclxuICAgICAgVEFCOiA5LFxyXG4gICAgICBBUlJPV19MRUZUOiAzNyxcclxuICAgICAgQVJST1dfVVA6IDM4LFxyXG4gICAgICBBUlJPV19SSUdIVDogMzksXHJcbiAgICAgIEFSUk9XX0RPV046IDQwLFxyXG4gICB9O1xyXG4gICAjZm9jdXNhYmxlRWxlbWVudHMgPSAnYVtocmVmXTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3QsIGRldGFpbHMsIGF1ZGlvLCB2aWRlbywgb2JqZWN0LCBbY29udGVudGVkaXRhYmxlPVwiXCJdLCBbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcclxuICAgI2RlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICBmb2N1c1RyYXA6IGZhbHNlLFxyXG4gICAgICBjb2xsYXBzZU9uRm9jdXNPdXQ6IGZhbHNlLFxyXG4gICB9O1xyXG5cclxuICAgI2Rlc3Ryb3llZCA9IGZhbHNlOyAvLyDQpdGA0LDQvdC40Lwg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0YLQvtC8INGD0L3QuNGH0YLQtdC20LXQvSDQu9C4INC+0LHRitC10LrRglxyXG5cclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLiNkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuXyRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fb3B0aW9ucy5zZWxlY3Rvcik7XHJcbiAgICAgIGlmICh0aGlzLiNjaGVjaygpKSB7XHJcbiAgICAgICAgIHRoaXMuX2dldEZvY3VzYWJsZUNvbnRlbnQoKTtcclxuICAgICAgICAgdGhpcy5fJGxhc3RGb2N1c2FibGVFbCA9IHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIl0nKTtcclxuXHJcbiAgICAgICAgIHRoaXMuI2luaXQoKTtcclxuICAgICAgfSBlbHNlIHRoaXMuX2hhc0Vycm9ycyA9IHRydWU7XHJcbiAgIH1cclxuXHJcbiAgICNjaGVjaygpIHtcclxuICAgICAgaWYgKCF0aGlzLl8kZWwpIHtcclxuICAgICAgICAgY29uc29sZS5lcnJvcihg0J3QtSDQvdCw0LnQtNC10L0g0LrQu9Cw0YHRgSAtICR7dGhpcy5fb3B0aW9ucy5zZWxlY3Rvcn1gKTtcclxuICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXRgiDQvdCwINGB0L7QvtGC0LLQtdGC0YHQstC40LUg0Log0LzQtdC00LjQsCDQt9Cw0L/RgNC+0YHRg1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMubWF0Y2hNZWRpYSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhd2luZG93Lm1hdGNoTWVkaWEodGhpcy5fb3B0aW9ucy5tYXRjaE1lZGlhKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgfVxyXG5cclxuICAgI2luaXQoKSB7XHJcbiAgICAgIHRoaXMuXyRlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuX21haW5FbENsaWNrKGUpKTtcclxuICAgICAgdGhpcy5fJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB0aGlzLl9jaGVja1ByZXNzKGUpLCB0cnVlKTtcclxuXHJcbiAgICAgIC8vINCf0L7RgdC70LXQtNC90LjQuSDRjdC70LXQvNC10L3RgiDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINCyINGE0L7QutGD0YHQtVxyXG4gICAgICBpZiAodGhpcy5fJGxhc3RGb2N1c2FibGVFbCkgdGhpcy5fJGxhc3RGb2N1c2FibGVFbC50YWJJbmRleCA9IC0xO1xyXG4gICAgICAvLyDQo9C00LDQu9GP0LXQvCDRjdGC0L7RgiDRjdC70LXQvNC10L3RgiAo0LrQvtGC0L7RgNGL0Lkg0L/QvtGB0LvQtdC00L3QuNC5INCyINGE0L7QutGD0YHQtSlcclxuICAgICAgdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQgPSB0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5maWx0ZXIoKGVsKSA9PiB7XHJcbiAgICAgICAgIGlmIChlbCAhPT0gdGhpcy5fJGxhc3RGb2N1c2FibGVFbCkgcmV0dXJuIGVsO1xyXG4gICAgICB9KTtcclxuICAgfVxyXG5cclxuICAgI2ZvY3VzVHJhcEFuZENvbGxhcHNlKGUpIHtcclxuICAgICAgY29uc3QgZmlyc3RGb2N1c2FibGVFbCA9IHRoaXMuXyRmb2N1c2FibGVDb250ZW50WzBdO1xyXG4gICAgICBjb25zdCBsYXN0Rm9jdXNhYmxlRWwgPSB0aGlzLl8kZm9jdXNhYmxlQ29udGVudFt0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5sZW5ndGggLSAxXTtcclxuICAgICAgY29uc3QgbmVlZExhc3RGb2N1c2FibGVFbCA9IHRoaXMuXyRsYXN0Rm9jdXNhYmxlRWw7XHJcblxyXG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAvKiBzaGlmdCArIHRhYiAqLyBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RGb2N1c2FibGVFbCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBuZWVkTGFzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgIGlmIChuZWVkTGFzdEZvY3VzYWJsZUVsICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5lZWRMYXN0Rm9jdXNhYmxlRWwgJiYgIXRoaXMuX29wdGlvbnMuY29sbGFwc2VPbkZvY3VzT3V0KSBuZWVkTGFzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5jb2xsYXBzZU9uRm9jdXNPdXQpIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgbGFzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0gLyogdGFiICovIGVsc2Uge1xyXG4gICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEZvY3VzYWJsZUVsIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IG5lZWRMYXN0Rm9jdXNhYmxlRWwpIHtcclxuICAgICAgICAgICAgaWYgKG5lZWRMYXN0Rm9jdXNhYmxlRWwgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gbmVlZExhc3RGb2N1c2FibGVFbCkgbmVlZExhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29sbGFwc2VPbkZvY3VzT3V0KSB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgIGZpcnN0Rm9jdXNhYmxlRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBfY2hlY2tQcmVzcyhlKSB7XHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuRVNDKSB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgICAvLyDQldGB0LvQuCDRgtGA0LXQsdGD0LXRgtGB0Y8g0LfQsNGF0LLQsNGC0LjRgtGMINGE0L7QutGD0YEg0L3QsCDRjdC70LXQvNC10L3RgtC1XHJcbiAgICAgIGlmIChlLmtleSA9PT0gXCJUYWJcIiB8fCBlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuVEFCKSB7XHJcbiAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmZvY3VzVHJhcCB8fCB0aGlzLl9vcHRpb25zLmNvbGxhcHNlT25Gb2N1c091dCkgdGhpcy4jZm9jdXNUcmFwQW5kQ29sbGFwc2UoZSk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX21haW5FbENsaWNrKGUpIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0L/QviDQutC90L7Qv9C60LUg0LfQsNC60YDRi9GC0LjRj1xyXG4gICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtY2xvc2U9XCJ0cnVlXCJdJykgfHwgZS50YXJnZXQuZGF0YXNldC5jbG9zZSkge1xyXG4gICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX2dldEZvY3VzYWJsZUNvbnRlbnQoKSB7XHJcbiAgICAgIHRoaXMuXyRmb2N1c2FibGVDb250ZW50ID0gWy4uLnRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuI2ZvY3VzYWJsZUVsZW1lbnRzKV07XHJcbiAgIH1cclxuXHJcbiAgIG9wZW4oKSB7XHJcbiAgICAgIGlmICh0aGlzLiNkZXN0cm95ZWQpIHJldHVybiBjb25zb2xlLmVycm9yKGDQntCx0YrQtdC60YIg0YEg0LrQu9Cw0YHRgdC+0LwgLSAke3RoaXMuX29wdGlvbnMuc2VsZWN0b3J9INGD0L3QuNGH0YLQvtC20LXQvSDQuCDQvdC1INC80L7QttC10YIg0LHRi9GC0YwgXCLQntGC0LrRgNGL0YJcImApO1xyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcykge1xyXG4gICAgICAgICB0aGlzLl8kZWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLnNlbGVjdG9yLnNsaWNlKDEpICsgdGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcbiAgICAgIH0gZWxzZSB0aGlzLl8kZWwucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xyXG5cclxuICAgICAgLy8g0JTQu9GPINC30LDQv9GA0LXRgtCwINC/0YDQvtC60YDRg9GC0LrQuCDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgfVxyXG5cclxuICAgY2xvc2UoKSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcykge1xyXG4gICAgICAgICB0aGlzLl8kZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcHRpb25zLnNlbGVjdG9yLnNsaWNlKDEpICsgdGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcbiAgICAgIH0gZWxzZSB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xyXG5cclxuICAgICAgLy8g0JTQu9GPINC/0YDQvtC60YDRg9GC0LrQuCDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgfVxyXG5cclxuICAgZGVzdHJveSgpIHtcclxuICAgICAgLy8gdGhpcy4jZGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5fbWFpbkVsQ2xpY2soZSkpO1xyXG4gICAgICB0aGlzLl8kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHRoaXMuX2NoZWNrUHJlc3MoZSksIHRydWUpO1xyXG4gICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAg0J/QoNCQ0JLQmNCb0JAg0J/QniDQodCe0JfQlNCQ0J3QmNCuINCc0J7QlNCj0JvQr1xyXG4gKlxyXG4gKiAxLiDQmNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LLQvNC10YHRgtC+INGB0LXQu9C10LrRgtGA0L4g0LPQvtGC0L7QstGL0Lkg0L7QsdGK0LXQutGCLiDQrdGC0L4g0LfQvdCw0YfQuNGCLCDRh9GC0L4g0L3QsCDQstGF0L7QtFxyXG4gKiDQvdC10L7QsdGF0L7QtNC40LzQviDQv9C+0LvRg9GH0LDRgtGMOlxyXG4gKiBjb25zdCBlbCA9IGRvY3VtZW50LnFldXJ5U2VsZWN0KFwiLmVsXCIpXHJcbiAqXHJcbiAqIGNvbnN0IG5vZGEgPSBOZXcgTm9kYURLKGVsLCB7b3B0aW9uc30pO1xyXG4gKlxyXG4gKiAyLiDQldGB0LvQuCDQsiDQv9GA0L7RhtC10YHRgdC1INGA0LDQsdC+0YLRiyDQvNC+0LTRg9C70Y8g0YHQvtC30LTQsNC10YLRgdGPINC90L7QstCw0Y8g0L3QvtC00LAg0LIgaHRtbCwg0YLQviDQvdC10L7QsdGF0L7QtNC40LzQvlxyXG4gKiDQtdC1INGB0L7Qt9C00LDQstCw0YLRjCDQutCw0LbQtNGL0Lkg0YDQsNC3INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC4INGD0LTQsNC70Y/RgtGMINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4LCDQstC60LvRjtGH0LDRjyDQstGB0LVcclxuICogZXZlbnQgTGlzdG5lcnNcclxuICpcclxuICogMy4g0KDQsNC30LTQtdC70Y/RgtGMINGE0YPQvdC60YbQuNC4INC/0L4g0L3QsNC/0YDQsNCy0LvRj9C10L3QuNGOINC40LvQuCDRjdC70LXQvNC10L3RgtCwXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqIFRPRE86XHJcbiAqIDEuINC/0LXRgNC10LTQtdC70LDRgtGMINCy0YvQstC+0LQg0L7RiNC40LHQvtC6INGH0LXRgNC10LcgdGhyb3cgTmV3IEVycm9yXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gaXNUb3VjaERldmljZSgpIHtcclxuICAgcmV0dXJuIFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwO1xyXG59XHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQnNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L1cIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLypcclxuXHJcbiAgINCf0L7Rj9Cy0LvRj9C10Y7RidC40LXRgdGPINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviAo0Y3RhNGE0LXQutGC0Ysg0L/QvtGP0LLQu9C10L3QuNGPINC90LDRgdGC0YDQsNC40LLQsNGO0YLRgdGPINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdC+KS5cclxuICAg0JLQvtC30LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LTQu9GPINC+0YHQvdC+0LLQvdC+0Lkg0L3QsNCy0LPQuNCw0YbQuNC4INC90LAg0YHQsNC50YLQtSDQuCDQu9GO0LHRi9GFINC00YDRg9Cz0LjRhSDQvNC10L3RjiDQuNC70Lgg0LzQvtC00LDQu9GM0L3Ri9GFINC+0LrQvtC9LlxyXG4gICBcclxuICAgIdC90LXRgiDRgNC10LDQu9C40LfQsNGG0LjQuCEgZGF0YS1zZWxlY3QtZmlyc3Q9XCJ0cnVlXCIgLSDQvdC10L7QsdGF0L7QtNC40LzQviDRg9GB0YLQsNC90L7QstC40YLRjCDQvdCwINGN0LvQtdC80LXQvdGCLCDQutC+0YLQvtGA0YvQuSDQtNC+0LvQttC9INC/0L7Qv9Cw0YHRgtGMINCyINGE0L7QutGD0YEg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuICAgXHJcblxyXG4gICBkYXRhLXNlbGVjdC1sYXN0PVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LTQvtC70LbQvSDQv9C+0L/QsNGB0YLRjCDQsiDRhNC+0LrRg9GBINCyINGB0LDQvNGL0Lkg0L/QvtGB0LvQtdC00L3QuNC5INC80L7QvNC10L3RglxyXG4gICBkYXRhLWNsb3NlPVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQt9Cw0LrRgNGL0LLQsNGC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+ICjRgtC+0LvRjNC60L4g0L3QsCDRjdC70LXQvNC10L3RgtGLINCy0L3Rg9GC0YDQuCDQvtC60L3QsClcclxuXHJcblxyXG4gICDQntCx0YrQtdC60YIg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LA6XHJcbiAgIHNlbGVjdG9yIC0g0YHQtdC70LXQutGC0L7RgCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDRgSDQutC+0YLQvtGA0YvQvCDQsdGD0LTQtdC8INGA0LDQsdC+0YLQsNGC0YxcclxuICAgb3BlbkJ0bnNTZWxlY3RvciAtINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPICjQvNC+0LPRg9GCINCx0YvRgtGMINGD0LrQsNC30LDQvdGLINCy0LLQuNC00LUg0LzQsNGB0YHQuNCy0LApXHJcbiAgIGFjdGl2ZUNsYXNzIC0g0LrQu9Cw0YHRgSwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQtNC+0LHQsNCy0LvQtdC9INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4XHJcbiAgIG1hdGNoTWVkaWEgLSDQvNC10LTQuNCwINC30LDQv9GA0L7RgSwg0LIg0LrQvtGC0L7RgNC+0Lwg0LTQvtC70LbQtdC9INC30LDQv9GD0YHQutCw0YLRjNGB0Y8g0L3QvtCy0YvQuSDQutC70LDRgdGBIChub25lKVxyXG5cclxuICAgZm9jdXNUcmFwIC0g0YLRgNC10LHRg9C10YLRgdGPINC70Lgg0L/QtdGA0LXRhdC+0LTQuNGC0Ywg0YLQsNCx0L7QvCDRgtC+0LvRjNC60L4g0L/QviDQvNC+0LTQsNC70YzQvdC+0LzRgyDQvtC60L3RgyAoZGVmYXVsdDogZmFsc2UpINC90LUg0YDQsNCx0L7RgtCw0LXRgiDRgSBjb2xsYXBzZU9uRm9jdXNPdXQgPSB0cnVlIFxyXG4gICBjb2xsYXBzZU9uRm9jdXNPdXQgLSDRgtGA0LXQsdGD0LXRgtGB0Y8g0LvQuCDQt9Cw0LrRgNGL0LLQsNGC0Ywg0L7QutC90L4g0L/RgNC4INC/0L7RgtC10YDQuCDRhNC+0LrRg9GB0LAgKGRlZmF1bHQ6IGZhbHNlKVxyXG5cclxuICAgb3ZlcmxheSAtINGC0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC+0LLQtdGA0LvQtdC5IChkZWZhdWx0OiB0cnVlKVxyXG4gICBvdmVybGF5QmcgLSDRhtCy0LXRgiBiZyAoZGVmdWx0OiBcInJnYmEoMCwwLDAsIDAuNSlcIilcclxuICAgb3ZlcmxheVppbmRleCAtIHppbmRleCDQvtCy0LXRgNC70LXRjyAoZGVmYXVsdDogXCIwXCIpLFxyXG5cclxuICAgb25DbG9zZSgpIC0g0KTRg9C90LrRhtC40Y8g0L/RgNC4INC30LDQutGA0YvRgtC40LhcclxuICAgXHJcbiAgIG0gPSBuZXcgTW9kYWxESyh7XHJcbiAgICAgIHNlbGVjdG9yOiBcIiNtb2RhbFwiLFxyXG4gICAgICBvcGVuQnRuc1NlbGVjdG9yOiBbXCIuYnRuLS1vcGVuXCJdLFxyXG4gICAgICBmb2N1c1RyYXA6IHRydWUsIC8vINCi0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC/0LXRgNC10LzQtdGJ0LDRgtGM0YHRjyDRgtCw0LHQvtC8INGC0L7Qu9GM0LrQviDQstC90YPRgtGA0Lgg0L7QsdGK0LXQutGC0LAgKGRlZmF1bHQ6IGZhbHNlKVxyXG4gICAgICBjb2xsYXBzZU9uRm9jdXNPdXQ6IHRydWUsIC8vINCi0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC30LDQutGA0YvQstCw0YLRjCDQv9GA0Lgg0L/QvtGC0LXRgNC4INGE0L7QutGD0YHQsFxyXG4gICAgICBhY3RpdmVDbGFzczogXCItLWFjdGl2ZVwiLFxyXG4gICAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcIm1vZGFsIGNsb3NpbmdcIik7XHJcbiAgICAgIH0sXHJcbiAgIH0pO1xyXG5cclxuICAg0KDQtdCw0LvQuNC30LDRhtC40Y8g0LIgaHRtbCBcclxuICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fY29udGFpbmVyXCI+PC9kaXY+XHJcbiAgIDwvZGl2PlxyXG4gICAgXHJcblxyXG4gICBUT0RPOlxyXG4gICAh0J7Qv9GA0LXQtNC10LvRj9GC0Ywg0LTQu9GPINC60LDQutC40YUg0Y3QutGA0LDQvdC+0LIg0L3QtSDQt9Cw0L/Rg9GB0LrQsNGC0YxcclxuICAg0JrQvtCz0LTQsCDQtNC+0LHQsNCy0LvRjiBhcmlhINCw0YLRgNC40LHRg9GC0YssINGC0L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC40YUg0LLQvNC10YHRgtC+INC60LvQsNGB0YHQsCBhY3RpdmVcclxuICAgYXJpYSDRg9C60LDQt9GL0LLQsNGC0Ywg0YfRgtC+INC+0LrQvdC+INC/0L7Rj9Cy0LjQu9C+0YHRjFxyXG4qL1xyXG5cclxuY2xhc3MgTW9kYWxESyBleHRlbmRzIE5vZGFESyB7XHJcbiAgICNkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgb3ZlcmxheTogdHJ1ZSxcclxuICAgICAgb3ZlcmxheUJnOiBcInJnYmEoMCwwLDAsIDAuNSlcIixcclxuICAgICAgb3ZlcmxheVppbmRleDogXCIwXCIsXHJcbiAgIH07XHJcbiAgICNPVkVSTEFZX0FOSU1UQUlPTl9USU1FID0gMzAwO1xyXG4gICAjJGFjdGl2ZU9wZW5CdG47IC8vINCl0YDQsNC90LjQvCDQvdC+0LTRgyDQutC90L7Qv9C60LgsINC60L7RgtC+0YDQvtC5INC+0YLQutGA0YvQu9C4LCDQtNC70Y8g0L/QtdGA0LXQstC+0LTQsCDQvdCwINC90LXQtSDRhNC+0LrRg9GB0LUsINC60L7Qs9C0INC30LDQutGA0L7QtdC8INC+0LrQvdC+XHJcbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgIGlmICh0aGlzLiNjaGVjaygpKSB7XHJcbiAgICAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuI2RlZmF1bHRPcHRpb25zLCB0aGlzLl9vcHRpb25zKTtcclxuICAgICAgICAgdGhpcy5fJG9wZW5CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9vcHRpb25zLm9wZW5CdG5zU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICAgdGhpcy4jaW5pdCgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgICNjaGVjaygpIHtcclxuICAgICAgcmV0dXJuICF0aGlzLl9oYXNFcnJvcnM7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0KCkge1xyXG4gICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImRpYWxvZ1wiKTtcclxuICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcImFyaWEtbW9kYWxcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG5cclxuICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC+0LLQtdGA0LvQtdC5XHJcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLm92ZXJsYXkpIHtcclxuICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuX29wdGlvbnMub3ZlcmxheUJnO1xyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLmluc2V0ID0gXCJhdXRvXCI7XHJcbiAgICAgICAgIG92ZXJsYXkuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgIC8vIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9ucy5zZWxlY3Rvci5zbGljZSgxKSArIFwiX19vdmVybGF5XCIpO1xyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLnpJbmRleCA9IHRoaXMuX29wdGlvbnMub3ZlcmxheVppbmRleDtcclxuICAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke3RoaXMuI09WRVJMQVlfQU5JTVRBSU9OX1RJTUV9bXMgZWFzZWA7XHJcbiAgICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgIGlmICh0aGlzLl8kZWwucXVlcnlTZWxlY3RvcihcIjpmaXJzdC1jaGlsZFwiKS5zdHlsZS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgICAgICAgIHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKFwiOmZpcnN0LWNoaWxkXCIpLnN0eWxlLnpJbmRleCA9IHRvU3RyaW5nKHBhcnNlSW50KHRoaXMuX29wdGlvbnMub3ZlcmxheVppbmRleCkgKyAxKTtcclxuICAgICAgICAgdGhpcy5fJGVsLmluc2VydEJlZm9yZShvdmVybGF5LCB0aGlzLl8kZWwuZmlyc3RDaGlsZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLmFjdGl2ZUNsYXNzKVxyXG4gICAgICAgICAvLyDQo9Cx0LjRgNCw0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGE0L7QutGD0YHQsCDQvdCwINGN0LvQtdC80LXQvdGC0LDRhSDQtNC70Y8g0YHQutGA0YvRgtC+0LPQviDQvNC10L3RjlxyXG4gICAgICAgICB0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQudGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAodGhpcy5fJG9wZW5CdG5zKSB7XHJcbiAgICAgICAgIC8vINCh0L7QsdGL0YLQuNGPXHJcbiAgICAgICAgIHRoaXMuXyRvcGVuQnRucy5mb3JFYWNoKChvcGVuQnRuKSA9PiB7XHJcbiAgICAgICAgICAgIG9wZW5CdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1oYXNwb3B1cFwiLCBcImRpYWxvZ1wiKTtcclxuICAgICAgICAgICAgb3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vcGVuLmJpbmQodGhpcykpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBvcGVuKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuXyRlbC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSA9PT0gXCJmYWxzZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHRoaXMuIyRhY3RpdmVPcGVuQnRuID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcykge1xyXG4gICAgICAgICAgICAvLyDQo9Cx0LjRgNCw0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGE0L7QutGD0YHQsCDQvdCwINGN0LvQtdC80LXQvdGC0LDRhSDQtNC70Y8g0YHQutGA0YvRgtC+0LPQviDQvNC10L3RjlxyXG4gICAgICAgICAgICB0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5kYXRhc2V0LnNlbGVjdExhc3QpIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICBpZiAodGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoID4gMCkgdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgLy8g0KDQsNCx0L7RgtCwINGBINC+0LLQtdGA0LvQtdC10LxcclxuICAgICAgICAgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUuaW5zZXQgPSBcIjBcIjtcclxuICAgICAgICAgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG5cclxuICAgICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIikuc2V0QXR0cmlidXRlKFwiaW5lcnRcIiwgXCJcIik7XHJcbiAgICAgIH0sIDEpO1xyXG4gICB9XHJcblxyXG4gICBjbG9zZSgpIHtcclxuICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYWN0aXZlQ2xhc3MpIHtcclxuICAgICAgICAgLy8g0KPQsdC40YDQsNC10Lwg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRhNC+0LrRg9GB0LAg0L3QsCDRjdC70LXQvNC10L3RgtCw0YUg0LTQu9GPINGB0LrRgNGL0YLQvtCz0L4g0LzQtdC90Y5cclxuICAgICAgICAgdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuIyRhY3RpdmVPcGVuQnRuLnRhYkluZGV4ICE9PSAtMSkgdGhpcy4jJGFjdGl2ZU9wZW5CdG4uZm9jdXMoKTtcclxuICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm9uQ2xvc2UgPT09IFwiZnVuY3Rpb25cIikgdGhpcy5fb3B0aW9ucy5vbkNsb3NlKCk7XHJcbiAgICAgIH0sIDEpO1xyXG5cclxuICAgICAgLy8g0KDQsNCx0L7RgtCwINGBINC+0LLQtdGA0LvQtdC10LxcclxuICAgICAgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUuaW5zZXQgPSBcImF1dG9cIjtcclxuICAgICAgfSwgdGhpcy4jT1ZFUkxBWV9BTklNVEFJT05fVElNRSk7XHJcblxyXG4gICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJpbmVydFwiLCBcIlwiKTtcclxuICAgfVxyXG59XHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQk9Cw0LvQtdGA0LXQuFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qk9Cw0LvQtdGA0LXRjyDQuNC30L7QsdGA0LDQttC10L3QuNC5LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLyoqXHJcbiAqXHJcbiAqXHJcbiAqIGRhdGEtZ2FsbGVyeSAtINC00LvRjyDQv9C10YDQtdC00LDRh9C4INCx0L7Qu9GM0YjQuNGFINC40LfQvtCx0YDQsNC20LXQvdC40LlcclxuICogXHJcbiAqINCe0LHRitC10LrRgiDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsDpcclxuICAgc2VsZWN0b3IgLSDRgdC10LvQtdC60YLQvtGAINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINGBINC60L7RgtC+0YDRi9C8INCx0YPQtNC10Lwg0YDQsNCx0L7RgtCw0YLRjFxyXG4gICBvcGVuQnRuc1NlbGVjdG9yIC0g0LrQvdC+0L/QutC4INC+0YLQutGA0YvRgtC40Y8gKNC80L7Qs9GD0YIg0LHRi9GC0Ywg0YPQutCw0LfQsNC90Ysg0LLQstC40LTQtSDQvNCw0YHRgdC40LLQsClcclxuICAgY2xvc2VCdG5zU2VsZWN0b3I6IC0g0LrQvdC+0L/QutC4INC30LDQutGA0YvRgtC40Y8gKNC80L7Qs9GD0YIg0LHRi9GC0Ywg0YPQutCw0LfQsNC90Ysg0LLQstC40LTQtSDQvNCw0YHRgdC40LLQsClcclxuICAgZGVzY3JpcHRpb24gLSDRgtGA0LXQsdGD0LXRgtGB0Y8g0LvQuCDQstGL0LLQvtC00LjRgtGMINC+0L/QuNGB0YHQsNC90LjQtSDQuNC3INGC0Y3Qs9CwIGFsdCAodHJ1ZSlcclxuICAgaW1nc0xpc3QgLSDRgtGA0LHRg9C10YLRgdGPINC70Lgg0YHQvtC30LTQsNCy0LDRgtGMINGB0L/QuNGB0L7QuiDQuNC30L7QsdGA0LDQttC10L3QuNC5ICh0cnVlKVxyXG4gICBtYXRjaE1lZGlhIC0g0LzQtdC00LjQsCDQt9Cw0L/RgNC+0YEsINCyINC60L7RgtC+0YDQvtC8INC00L7Qu9C20LXQvSDQt9Cw0L/Rg9GB0LrQsNGC0YzRgdGPINC90L7QstGL0Lkg0LrQu9Cw0YHRgSAobm9uZSlcclxuXHJcbiAgIGRhdGEtY2xvc2U9XCJ0cnVlXCIgLSDQvdC10L7QsdGF0L7QtNC40LzQviDRg9GB0YLQsNC90L7QstC40YLRjCDQvdCwINGN0LvQtdC80LXQvdGCLCDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINC30LDQutGA0YvQstCw0YLRjCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4gKNGC0L7Qu9GM0LrQviDQvdCwINGN0LvQtdC80LXQvdGC0Ysg0LLQvdGD0YLRgNC4INC+0LrQvdCwKVxyXG4gICBkYXRhLXNlbGVjdC1sYXN0PVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LTQvtC70LbQvSDQv9C+0L/QsNGB0YLRjCDQsiDRhNC+0LrRg9GBINCyINGB0LDQvNGL0Lkg0L/QvtGB0LvQtdC00L3QuNC5INC80L7QvNC10L3RglxyXG4gICBkYXRhLWdhbGxlcnk9XCJodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1nL2NlcnQvMS0xLmpwZ1wiIC0g0YHRgdGL0LvQutCwINC90LAg0YTQsNC50LssINCx0L7Qu9GM0YjQvtCz0L4g0YDQsNC30LzQtdGA0LBcclxuXHJcbiAgIGcgPSBuZXcgR2FsbGVyeURLKHtcclxuICAgICAgc2VsZWN0b3I6IFwiLmdhbGxlcnlcIiwgLy8g0YHQtdC70LXQutGC0L7RgCDQutC+0L3RgtC10LnQvdC10YDQsCwg0LrQvtGC0L7RgNGL0Lkg0L7QsdGK0LXQtNC40L3Rj9C10YIg0LLRgdC1INC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuICAgICAgZm9jdXNUcmFwOiB0cnVlLFxyXG4gICAgICBjb2xsYXBzZU9uRm9jdXNPdXQ6IGZhbHNlLFxyXG4gICB9KTtcclxuXHJcbiAgICogVE9ETzpcclxuICAgKiA/0JTQvtCx0LDQstC40YLRjCDQt9C90LDQuiDQt9Cw0LPRgNGD0LfQutC4XHJcbiAgICogP9Cf0YDQuCDQtNCy0L7QudC90L7QvCDQvdCw0LbQsNGC0LjQuCDRg9Cy0LXQu9C40YfQuNCy0LDRgtGMINCyINGC0L7Rh9C60LUg0L3QsNC20LDRgtC40Y9cclxuXHJcbiAqL1xyXG5jbGFzcyBHYWxsZXJ5REsgZXh0ZW5kcyBOb2RhREsge1xyXG4gICAjZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICBpbWdzTGlzdDogdHJ1ZSxcclxuICAgfTtcclxuICAgI2FjdGl2ZUltZ051bTtcclxuICAgI2VsUGFkZGluZztcclxuICAgI0FOSU1UQUlPTl9USU1FID0gMzAwO1xyXG4gICAjdGFwZWRUd2ljZSA9IGZhbHNlO1xyXG5cclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICBzdXBlcihvcHRpb25zKTtcclxuICAgICAgaWYgKHRoaXMuI2NoZWNrKCkpIHtcclxuICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy4jZGVmYXVsdE9wdGlvbnMsIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgICAgICB0aGlzLl8kb3JpZ2luYWxJbWdzID0gWy4uLnRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpXTtcclxuICAgICAgICAgdGhpcy4jaW5pdCgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgICNjaGVjaygpIHtcclxuICAgICAgcmV0dXJuICF0aGlzLl9oYXNFcnJvcnM7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0KCkge1xyXG4gICAgICAvLyDQn9GA0L7RhdC+0LTQuNC8INC/0L4g0L7RgNC40LPQuNC90LDQu9GM0L3Ri9C8INC40LfQvtCx0YDQsNC20LXQvdC40Y/QvFxyXG4gICAgICB0aGlzLl8kb3JpZ2luYWxJbWdzLm1hcCgoaW1nLCBpKSA9PiB7XHJcbiAgICAgICAgIGltZy5zdHlsZS5jdXJzb3IgPSBcInpvb20taW5cIjtcclxuICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgaSk7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICAjaW5pdE9uT3BlbigpIHtcclxuICAgICAgdGhpcy4jY3JlYXRlR2FsbGVyeSgpO1xyXG4gICAgICB0aGlzLiNlbFBhZGRpbmcgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHRoaXMuXyRlbCkuZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctbGVmdFwiKSk7XHJcblxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcgPSB0aGlzLl8kZWwucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWRrX19pbWdcIik7XHJcbiAgICAgIHRoaXMuXyRpbWdQcmV2aWV3TGlzdCA9IFsuLi50aGlzLl8kZWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWlkXVwiKV07XHJcbiAgICAgIHN1cGVyLl9nZXRGb2N1c2FibGVDb250ZW50KCk7XHJcblxyXG4gICAgICB0aGlzLl9vblRvdWNoU3RhcnQgPSB0aGlzLl9vblRvdWNoU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5fb25Ub3VjaEVuZCA9IHRoaXMuX29uVG91Y2hFbmQuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5fb25Ub3VjaE1vdmUgPSB0aGlzLl9vblRvdWNoTW92ZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgdGhpcy4jaW5pdFRvdWNoTGlzdG5lcnMoKTtcclxuICAgfVxyXG5cclxuICAgI2luaXRUb3VjaExpc3RuZXJzKCkge1xyXG4gICAgICAvLyB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuX29uVG91Y2hTdGFydCk7XHJcbiAgICAgIC8vIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMuX29uVG91Y2hFbmQpO1xyXG4gICAgICAvLyB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuX29uVG91Y2hNb3ZlKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX29uVG91Y2hTdGFydCk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fb25Ub3VjaEVuZCk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uVG91Y2hNb3ZlKTtcclxuICAgfVxyXG5cclxuICAgI2Rlc3Ryb3lUb3VjaExpc3RuZXJzKCkge1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fb25Ub3VjaFN0YXJ0KTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblRvdWNoRW5kKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5fb25Ub3VjaE1vdmUpO1xyXG4gICB9XHJcblxyXG4gICAjY3JlYXRlR2FsbGVyeSgpIHtcclxuICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LPQsNC70LXRgNC10Y5cclxuICAgICAgY29uc3QgJGdhbGxlcnlESyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICRnYWxsZXJ5REsuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtcIik7XHJcbiAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5pbWdzTGlzdCkgJGdhbGxlcnlESy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1kay0tbm8tbGlzdFwiKTtcclxuICAgICAgJGdhbGxlcnlESy5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XHJcbiAgICAgICRnYWxsZXJ5REsuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xyXG4gICAgICAkZ2FsbGVyeURLLmlubmVySFRNTCA9IHRoaXMuI2dldFRlbWFwbGF0ZSgpO1xyXG4gICAgICB0aGlzLl8kZWwuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsICRnYWxsZXJ5REspO1xyXG5cclxuICAgICAgY29uc3QgJGltZ3NMaXN0ID0gJGdhbGxlcnlESy5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktZGtfX2xpc3RcIik7XHJcbiAgICAgIC8vINCf0YDQvtGF0L7QtNC40Lwg0L/QviDQvtGA0LjQs9C40L3QsNC70YzQvdGL0Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjRj9C8XHJcbiAgICAgIHRoaXMuXyRvcmlnaW5hbEltZ3MubWFwKChpbWcsIGkpID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaW1nc0xpc3QpIHtcclxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuICAgICAgICAgICAgY29uc3QgaW1nUHJldmlldyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIGltZ1ByZXZpZXcucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XHJcbiAgICAgICAgICAgIGltZ1ByZXZpZXcucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XHJcblxyXG4gICAgICAgICAgICBpbWdQcmV2aWV3LnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgaSk7XHJcbiAgICAgICAgICAgIGltZ1ByZXZpZXcuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICAgICBpbWdQcmV2aWV3LnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgLy8gaW1nUHJldmlldy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgdGhpcy5zZXRJbWcoaSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAkaW1nc0xpc3QuYXBwZW5kQ2hpbGQoaW1nUHJldmlldyk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLl8kZWwgPSAkZ2FsbGVyeURLO1xyXG4gICB9XHJcblxyXG4gICAjZ2V0VGVtYXBsYXRlKCkge1xyXG4gICAgICBjb25zdCBkZXNjcmlwdGlvbkNsaXBwZWQgPSB0aGlzLl9vcHRpb25zLmRlc2NyaXB0aW9uID8gXCJcIiA6IFwiY2xpcHBlZFwiO1xyXG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5fb3B0aW9ucy5pbWdzTGlzdCA/ICc8dWwgY2xhc3M9XCJnYWxsZXJ5LWRrX19saXN0XCIgcm9sZT1cImxpc3RcIj48L3VsPicgOiBcIlwiO1xyXG4gICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWRrX19idG5zLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImdhbGxlcnktZGtfX3RvLWxlZnRcIiBkYXRhLXByZXY9XCJ0cnVlXCIgYXJpYS1sYWJlbD1cItC/0YDQtdC00YvQtNGD0YnQtdC1INC40LfQvtCx0YDQsNC20LXQvdC40LVcIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImdhbGxlcnktZGtfX3RvLXJpZ2h0XCIgZGF0YS1uZXh0PVwidHJ1ZVwiICBhcmlhLWxhYmVsPVwi0YHQu9C10LTRg9GO0YnQtdC1INC40LfQvtCx0YDQsNC20LXQvdC40LVcIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImdhbGxlcnktZGtfX3pvb21cIiBkYXRhLXpvb209XCJ0cnVlXCIgYXJpYS1sYWJlbD1cItGD0LLQtdC70LjRh9C40YLRjCDQuNC30L7QsdGA0LDQttC10L3QuNC1XCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDw/eG1sIHZlcnNpb249XCIxLjBcIiA/PjxzdmcgY2xhc3M9XCJnYWxsZXJ5LWRrX196b29tLXN2Z1wiIGRhdGEtem9vbT1cInRydWVcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMzIgMzJcIiBpZD1cIkVkaXRhYmxlLWxpbmVcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPjxjaXJjbGUgY3g9XCIxNFwiIGN5PVwiMTRcIiBmaWxsPVwibm9uZVwiIGlkPVwiWE1MSURfOTRfXCIgcj1cIjlcIiAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgZmlsbD1cIm5vbmVcIiBpZD1cIlhNTElEXzkzX1wiICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHgxPVwiMjdcIiB4Mj1cIjIwLjM2NlwiIHkxPVwiMjdcIiB5Mj1cIjIwLjM2NlwiLz48bGluZSBmaWxsPVwibm9uZVwiIGlkPVwiWE1MSURfOTZfXCIgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBzdHJva2Utd2lkdGg9XCIyXCIgeDE9XCIxNFwiIHgyPVwiMTRcIiB5MT1cIjEwXCIgeTI9XCIxOFwiLz48bGluZSBmaWxsPVwibm9uZVwiIGlkPVwiWE1MSURfOTdfXCIgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBzdHJva2Utd2lkdGg9XCIyXCIgeDE9XCIxMFwiIHgyPVwiMThcIiB5MT1cIjE0XCIgeTI9XCIxNFwiLz48L3N2Zz5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZ2FsbGVyeS1ka19fY2xvc2VcIiBkYXRhLWNsb3NlPVwidHJ1ZVwiIGRhdGEtc2VsZWN0LWxhc3Q9XCJ0cnVlXCIgYXJpYS1sYWJlbD1cItC30LDQutGA0YvRgtGMINCz0LDQu9C10YDQtdGOXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ2FsbGVyeS1ka19faW1nLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdhbGxlcnktZGtfX2ltZ1wiIGFyaWEtbGFiZWxsZWRieT1cImdhbGxlcnktZGstZGVzY3JpcHRpb25cIiByb2xlPVwiaW1nXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiZ2FsbGVyeS1kay1kZXNjcmlwdGlvblwiIGNsYXNzPVwiZ2FsbGVyeS1ka19faW5mbyBzY3JvbGwtLXYgJHtkZXNjcmlwdGlvbkNsaXBwZWR9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICR7bGlzdH1gO1xyXG4gICB9XHJcblxyXG4gICBkZXN0cm95KCkge1xyXG4gICAgICB0aGlzLiNkZXN0cm95VG91Y2hMaXN0bmVycygpO1xyXG5cclxuICAgICAgdGhpcy5fJGVsLnJlbW92ZSgpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgdGhpcy5fJGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9vcHRpb25zLnNlbGVjdG9yKTtcclxuICAgICAgfSwgMSk7XHJcbiAgIH1cclxuXHJcbiAgIF9jaGVja1ByZXNzKGUpIHtcclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5FU0MgJiYgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnktZGtfX2ltZy0tem9vbVwiKSkge1xyXG4gICAgICAgICB0aGlzLl9zdG9wWm9vbSgpO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgc3VwZXIuX2NoZWNrUHJlc3MoZSk7XHJcblxyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkVOVEVSKSB7XHJcbiAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LmlkKSB0aGlzLnNldEltZyhlLnRhcmdldC5kYXRhc2V0LmlkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0YHRgtGA0LXQu9C60LAg0LLQv9GA0LDQstC+INC4INCy0L3QuNC3XHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuQVJST1dfUklHSFQgfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX0RPV04pIHtcclxuICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB0aGlzLm5leHRJbWcoKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDRgdGC0YDQtdC70LrQsCDQstC70LXQstC+INC4INCy0LLQtdGA0YVcclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19MRUZUIHx8IGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19VUCkge1xyXG4gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgIHRoaXMucHJldkltZygpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9tYWluRWxDbGljayhlKSB7XHJcbiAgICAgIHN1cGVyLl9tYWluRWxDbGljayhlKTtcclxuICAgICAgLy8g0JXRgdC70Lgg0L/QviDQutC90L7Qv9C60LUg0LfQsNC60YDRi9GC0LjRj1xyXG4gICAgICBpZiAoZS50YXJnZXQuZGF0YXNldC5pZCkge1xyXG4gICAgICAgICBjb25zdCBpZCA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgIGlmICghdGhpcy5fJGVsLmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnktZGstLWFjdGl2ZVwiKSkgdGhpcy5vcGVuKCk7XHJcbiAgICAgICAgIHRoaXMuc2V0SW1nKGlkKTtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLW5leHQ9XCJ0cnVlXCJdJykgfHwgZS50YXJnZXQuZGF0YXNldC5uZXh0KSB0aGlzLm5leHRJbWcoKTtcclxuICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJldj1cInRydWVcIl0nKSB8fCBlLnRhcmdldC5kYXRhc2V0LnByZXYpIHRoaXMucHJldkltZygpO1xyXG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS16b29tPVwidHJ1ZVwiXScpIHx8IGUudGFyZ2V0LmRhdGFzZXQuem9vbSkgdGhpcy5fem9vbUltZygpO1xyXG4gICB9XHJcblxyXG4gICBvcGVuKCkge1xyXG4gICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgIHRoaXMuI2luaXRPbk9wZW4oKTtcclxuICAgICAgdGhpcy5fJGVsLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrLS1hY3RpdmVcIik7XHJcbiAgICAgIGlmICh0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5sZW5ndGggPiAwKSB0aGlzLl8kZm9jdXNhYmxlQ29udGVudFswXS5mb2N1cygpO1xyXG4gICB9XHJcblxyXG4gICBjbG9zZSgpIHtcclxuICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgdGhpcy5fJGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrLS1hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICB9XHJcblxyXG4gICAvLyAtLS0tLS0tLS3QoNCw0LHQvtGC0LAg0YEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8LS0tLS0tLS0tLVxyXG4gICBzZXRJbWcoaW1nTnVtKSB7XHJcbiAgICAgIHRoaXMuI2FjdGl2ZUltZ051bSA9IGltZ051bTtcclxuXHJcbiAgICAgIC8vINCU0LXQudGB0YLQstC40Y8g0YEg0YbQtdC90YLRgNCw0LvRjNC90YvQvCDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrX19pbWctLWNoYW5nZVwiKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7dGhpcy5fZ2V0SW1nU3JjKGltZ051bSl9JylgO1xyXG5cclxuICAgICAgdGhpcy5fZ2V0SW1nQmFja2dyb3VuZFNpemUoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgIGNvbnN0IHBvc0VsID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgIGlmIChkYXRhLncgPCBwb3NFbC53aWR0aCAmJiBkYXRhLmggPCBwb3NFbC5oZWlnaHQpIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiYXV0b1wiO1xyXG4gICAgICAgICBlbHNlIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiY29udGFpblwiO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vINCU0LXQudGB0YLQstC40Y8g0YEg0LvQuNGB0YLQvtC8INC/0YDQuNCy0YzRjlxyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5pbWdzTGlzdCkge1xyXG4gICAgICAgICB0aGlzLl8kaW1nUHJldmlld0xpc3QubWFwKChpbWcpID0+IHtcclxuICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICB0aGlzLl8kaW1nUHJldmlld0xpc3RbaW1nTnVtXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgdGhpcy5fJGltZ1ByZXZpZXdMaXN0W2ltZ051bV0uZm9jdXMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0JTQtdC50YHRgtCy0LjRjyDRgSDQvtC/0LjRgdCw0L3QuNC10LxcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWRrX19pbmZvXCIpLmlubmVySFRNTCA9IHRoaXMuXyRvcmlnaW5hbEltZ3NbaW1nTnVtXS5nZXRBdHRyaWJ1dGUoXCJhbHRcIikgPyB0aGlzLl8kb3JpZ2luYWxJbWdzW2ltZ051bV0uZ2V0QXR0cmlidXRlKFwiYWx0XCIpIDogXCJcIjtcclxuXHJcbiAgICAgIC8vINCh0LHRgNC+0YEg0YHRgtC40LvQuNC30LDRhtC40Lkg0Lgg0L/QvtC30LjRhtC40LlcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgXCIwXCIpO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1ka19faW1nLS1jaGFuZ2VcIik7XHJcbiAgICAgIH0sIDEpO1xyXG4gICB9XHJcblxyXG4gICBfZ2V0SW1nU3JjKGltZ051bSkge1xyXG4gICAgICBsZXQgJGN1cnJlbnRJbWcgPSB0aGlzLl8kb3JpZ2luYWxJbWdzW2ltZ051bV07XHJcbiAgICAgIGNvbnN0IGltZ0NsYXNzID0gJGN1cnJlbnRJbWcucXVlcnlTZWxlY3RvcihcImltZ1wiKTsgLy8gIdCf0YDQvtCy0LXRgNGP0LXQvCDRgtGN0LMg0LvQuCDRjdGC0L4gcGljdHVyZSDQuNC70Lgg0YPQttC1IGltZ1xyXG4gICAgICAkY3VycmVudEltZyA9IGltZ0NsYXNzID8gaW1nQ2xhc3MgOiAkY3VycmVudEltZztcclxuXHJcbiAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INC00LDRgtCwINCw0YLRgNC40LHRg9GCINC00LvRjyDQsdC+0LvRjNGI0L7Qs9C+INC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuICAgICAgY29uc3QgZGF0YVNyYyA9ICRjdXJyZW50SW1nLmRhdGFzZXQuZ2FsbGVyeTtcclxuICAgICAgaWYgKHR5cGVvZiBkYXRhU3JjICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgIGNvbnN0IHRlbXBJbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgdGVtcEltZy5zcmMgPSBkYXRhU3JjO1xyXG4gICAgICAgICBpZiAodGVtcEltZy53aWR0aCA+IDApIHJldHVybiBkYXRhU3JjO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAkY3VycmVudEltZy5zcmM7XHJcbiAgIH1cclxuXHJcbiAgIG5leHRJbWcoKSB7XHJcbiAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgLTEgKiB3aW5kb3cuaW5uZXJXaWR0aCk7XHJcblxyXG4gICAgICB0aGlzLiNhY3RpdmVJbWdOdW0gPSB0aGlzLiNhY3RpdmVJbWdOdW0rKyA9PT0gdGhpcy5fJG9yaWdpbmFsSW1ncy5sZW5ndGggLSAxID8gMCA6IHRoaXMuI2FjdGl2ZUltZ051bTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgd2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgICAgICB0aGlzLnNldEltZyh0aGlzLiNhY3RpdmVJbWdOdW0pO1xyXG4gICAgICB9LCB0aGlzLiNBTklNVEFJT05fVElNRSk7XHJcbiAgIH1cclxuXHJcbiAgIHByZXZJbWcoKSB7XHJcbiAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgd2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgICB0aGlzLiNhY3RpdmVJbWdOdW0gPSB0aGlzLiNhY3RpdmVJbWdOdW0tLSA9PT0gMCA/IHRoaXMuXyRvcmlnaW5hbEltZ3MubGVuZ3RoIC0gMSA6IHRoaXMuI2FjdGl2ZUltZ051bTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgLTEgKiB3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgICAgICAgIHRoaXMuc2V0SW1nKHRoaXMuI2FjdGl2ZUltZ051bSk7XHJcbiAgICAgIH0sIHRoaXMuI0FOSU1UQUlPTl9USU1FKTtcclxuICAgfVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS3QoNCw0LHQvtGC0LAg0YEg0LfRg9C80L7QvC0tLS0tLS0tLS1cclxuICAgX3pvb21JbWcoZSkge1xyXG4gICAgICBsZXQgc2NhbGVCZyA9IDEuMjtcclxuICAgICAgdGhpcy5faXNab29taW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrX19pbWctLXpvb21cIik7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrX19pbWctd3JhcHBlci0tem9vbVwiKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gXCJjb3ZlclwiO1xyXG5cclxuICAgICAgY29uc3QgcGFycmVudFcgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIHRoaXMuI2VsUGFkZGluZyAqIDI7XHJcbiAgICAgIGNvbnN0IHBhcnJlbnRIID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gdGhpcy4jZWxQYWRkaW5nICogMjtcclxuICAgICAgdGhpcy5fZ2V0SW1nQmFja2dyb3VuZFNpemUoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgIGxldCB3ID0gZGF0YS53O1xyXG4gICAgICAgICBsZXQgaCA9IGRhdGEuaDtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS53ID4gcGFycmVudFcpO1xyXG4gICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJyZW50SCk7XHJcbiAgICAgICAgIGlmIChkYXRhLncgPiBwYXJyZW50VyAqIHNjYWxlQmcgfHwgZGF0YS5oID4gcGFycmVudEggKiBzY2FsZUJnKSB7XHJcbiAgICAgICAgICAgIGxldCB6b29tRmFjdG9yO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS53ID4gZGF0YS5oKSB7XHJcbiAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSBwYXJyZW50VyAvIGRhdGEudztcclxuICAgICAgICAgICAgICAgdyA9IHBhcnJlbnRXO1xyXG4gICAgICAgICAgICAgICBoID0gZGF0YS5oICogem9vbUZhY3RvcjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IHBhcnJlbnRIIC8gZGF0YS5oO1xyXG4gICAgICAgICAgICAgICB3ID0gZGF0YS53ICogem9vbUZhY3RvcjtcclxuICAgICAgICAgICAgICAgaCA9IHBhcnJlbnRIO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gYCR7dyAqIHNjYWxlQmd9cHggJHtoICogc2NhbGVCZ31weGA7XHJcbiAgICAgICAgIGlmIChpc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgICAgICAgICAgc2NhbGVCZyA9IDI7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka19faW1nLS10b3VjaFwiKTtcclxuICAgICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gYGNvdmVyYDtcclxuICAgICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLndpZHRoID0gYCR7dyAqIHNjYWxlQmd9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuaGVpZ2h0ID0gYCR7aCAqIHNjYWxlQmd9cHhgO1xyXG4gICAgICAgICB9IGVsc2UgdGhpcy5fc3RhcnRab29tKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gYCR7cGFycmVudFcgKiBzY2FsZUJnfXB4ICR7cGFycmVudEggKiBzY2FsZUJnfXB4YDtcclxuICAgfVxyXG5cclxuICAgX3N0YXJ0Wm9vbSgpIHtcclxuICAgICAgdGhpcy5fbW91c2VNb3ZlTWFpbkltZyA9IHRoaXMuX21vdXNlTW92ZU1haW5JbWcuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fbW91c2VNb3ZlTWFpbkltZywgZmFsc2UpO1xyXG5cclxuICAgICAgdGhpcy5fc3RvcFpvb20gPSB0aGlzLl9zdG9wWm9vbS5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N0b3Bab29tLCBmYWxzZSk7XHJcbiAgIH1cclxuXHJcbiAgIF9zdG9wWm9vbSgpIHtcclxuICAgICAgdGhpcy5faXNab29taW5nID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAgICAgIHRoaXMuI2luaXRUb3VjaExpc3RuZXJzKCk7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS53aWR0aCA9IFwiXCI7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5oZWlnaHQgPSBcIlwiO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGtfX2ltZy0tdG91Y2hcIik7XHJcbiAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IFwiMTAwJVwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gYGA7XHJcblxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGtfX2ltZy0tem9vbVwiKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGtfX2ltZy13cmFwcGVyLS16b29tXCIpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9tb3VzZU1vdmVNYWluSW1nLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3RvcFpvb20sIGZhbHNlKTtcclxuXHJcbiAgICAgIHRoaXMuXyRpbWdQcmV2aWV3TGlzdFt0aGlzLiNhY3RpdmVJbWdOdW1dLmZvY3VzKCk7XHJcbiAgICAgIHRoaXMuc2V0SW1nKHRoaXMuI2FjdGl2ZUltZ051bSk7XHJcbiAgIH1cclxuXHJcbiAgIF9tb3VzZU1vdmVNYWluSW1nKGUpIHtcclxuICAgICAgY29uc3QgcG9zRWwgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0ZXBTaXplWCA9ICt0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUuc3BsaXQoXCJweFwiKVswXSA+IHBvc0VsLndpZHRoID8gKGUub2Zmc2V0WCAvIChwb3NFbC53aWR0aCAtIHRoaXMuI2VsUGFkZGluZyAqIDIpKSAqIDEwMCArIFwiJVwiIDogXCJjZW50ZXJcIjtcclxuXHJcbiAgICAgIGNvbnN0IHN0ZXBTaXplWSA9ICt0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUuc3BsaXQoXCJweFwiKVsxXSA+IHBvc0VsLmhlaWdodCA/IChlLm9mZnNldFkgLyAocG9zRWwuaGVpZ2h0IC0gdGhpcy4jZWxQYWRkaW5nICogMikpICogMTAwICsgXCIlXCIgOiBcImNlbnRlclwiO1xyXG5cclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGAke3N0ZXBTaXplWH0gJHtzdGVwU2l6ZVl9YDtcclxuICAgfVxyXG5cclxuICAgX2dldEltZ0JhY2tncm91bmRTaXplKCkge1xyXG4gICAgICBjb25zdCBpbWFnZVNyYyA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UucmVwbGFjZSgvdXJsXFwoKFsnXCJdKT8oLio/KVxcMVxcKS9naSwgXCIkMlwiKS5zcGxpdChcIixcIilbMF07XHJcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGltYWdlLnNyYyA9IGltYWdlU3JjO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJlc29sdmUoeyB3LCBoIH0pO1xyXG4gICAgICAgICAgICAvLyBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS3QoNCw0LHQvtGC0LAg0YEg0YLQsNGHINGB0L7QsdGL0YLQuNGP0LzQuC0tLS0tLS0tLS1cclxuICAgX29uVG91Y2hTdGFydChlKSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INC00LLQsNC50L3QvtC1INC90LDQttCw0YLQuNC1XHJcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRoaXMuX3RhcFR3aWNlRGV0ZWN0aW9uLmJpbmQodGhpcykoZSkpIHtcclxuICAgICAgICAgLy8gaWYgKHRoaXMuX3RhcFR3aWNlRGV0ZWN0aW9uLmJpbmQodGhpcykoZSkpIHtcclxuICAgICAgICAgaWYgKCF0aGlzLl9pc1pvb21pbmcpIHRoaXMuX3pvb21JbWcoZSk7XHJcbiAgICAgICAgIGVsc2UgdGhpcy5fc3RvcFpvb20oKTtcclxuICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQldGB0LvQuCDRgtGP0L3Rg9GCXHJcbiAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcclxuICAgfVxyXG5cclxuICAgX29uVG91Y2hFbmQoZSkge1xyXG4gICAgICBpZiAodGhpcy5fc2NhbGluZykgdGhpcy5fc3RvcFNjYWxlKGUpO1xyXG4gICAgICBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24pIHRoaXMuX3N0b3BEcmFnKGUpO1xyXG4gICB9XHJcblxyXG4gICBfb25Ub3VjaE1vdmUoZSkge1xyXG4gICAgICBpZiAodGhpcy5fc2NhbGluZykgdGhpcy5fb25TY2FsaW5nKGUpO1xyXG4gICAgICBlbHNlIHRoaXMuX2RyYWdnaW5nKGUpO1xyXG4gICB9XHJcblxyXG4gICAvLyAg0KLRj9C90LXQvCDQuNC30L7QsdGA0LDQttC10L3QuNC1INCy0LvQtdCy0L5cXNCy0L/RgNCw0LLQviwg0LLQstC10YDRhVxc0LLQvdC40LdcclxuICAgX3N0YXJ0RHJhZyhlKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGZhbHNlOyAvLyDRgtCw0Log0LbQtSDRgdC70YPQttC40YIg0YTQu9Cw0LPQvtC8INGN0YLQviDRgdC+0LHRi9GC0LjRj1xyXG5cclxuICAgICAgdGhpcy5fY2xpY2tYID0gZS5wYWdlWDtcclxuICAgICAgdGhpcy5fY2xpY2tZID0gZS5wYWdlWTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrX19pbWctLW9uLWRyYWdcIik7XHJcbiAgIH1cclxuXHJcbiAgIF9zdG9wRHJhZyhlKSB7XHJcbiAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5fZHJhZ2dpbmcpO1xyXG4gICAgICBjb25zdCBjbG9zZVBlcmNlbnQgPSAwLjU7XHJcbiAgICAgIGNvbnN0IHBvc0VsID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBjbG9zZVBvcyA9IHBvc0VsLmhlaWdodCAqIGNsb3NlUGVyY2VudDtcclxuXHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1ka19faW1nLS1vbi1kcmFnXCIpO1xyXG4gICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgICAgICBpZiAocG9zRWwueCA8IC03MCkgdGhpcy5uZXh0SW1nKCk7XHJcbiAgICAgICAgIGVsc2UgaWYgKHBvc0VsLnggPiA3MCkgdGhpcy5wcmV2SW1nKCk7XHJcbiAgICAgICAgIGVsc2UgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCBcIjBcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBcInRvcFwiKSBpZiAocG9zRWwueSA+IGNsb3NlUG9zIHx8IHBvc0VsLnkgPCAtY2xvc2VQb3MpIHRoaXMuY2xvc2UoKTtcclxuXHJcbiAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcInRvcFwiLCBcIjBcIik7XHJcbiAgICAgIHRoaXMuXyRlbC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuXHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGZhbHNlO1xyXG4gICB9XHJcblxyXG4gICBfZHJhZ2dpbmcoZSkge1xyXG4gICAgICBpZiAodGhpcy5faXNab29taW5nKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCBkcmFnWCA9IGUucGFnZVg7XHJcbiAgICAgIGNvbnN0IGRyYWdZID0gZS5wYWdlWTtcclxuICAgICAgY29uc3QgZHJhZ1NoaWZ0WCA9IGRyYWdYIC0gdGhpcy5fY2xpY2tYO1xyXG4gICAgICBjb25zdCBkcmFnU2hpZnRZID0gZHJhZ1kgLSB0aGlzLl9jbGlja1k7XHJcbiAgICAgIC8vIGlmIChNYXRoLmFicyhkcmFnU2hpZnRYKSA+IDIwIHx8IE1hdGguYWJzKGRyYWdTaGlmdFkpID4gMjApIGRyYWcgPSB0cnVlO1xyXG4gICAgICBpZiAoIXRoaXMuX2RpcmVjdGlvbiAmJiBNYXRoLmFicyhkcmFnU2hpZnRYKSArIE1hdGguYWJzKGRyYWdTaGlmdFkpID4gMjApIHtcclxuICAgICAgICAgaWYgKE1hdGguYWJzKGRyYWdTaGlmdFgpID4gTWF0aC5hYnMoZHJhZ1NoaWZ0WSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgIH0gZWxzZSB0aGlzLl9kaXJlY3Rpb24gPSBcInRvcFwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBcImxlZnRcIikgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCBkcmFnU2hpZnRYKTtcclxuICAgICAgICAgZWxzZSBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBcInRvcFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcInRvcFwiLCBkcmFnU2hpZnRZKTtcclxuICAgICAgICAgICAgdGhpcy5fbWFrZUdhbGxlcnlUcmFuc3BhcmVudCgpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX3NldE1haW5JbWdTdHlsZVBvcyhkaXJlY3Rpb24sIHNoaWZ0KSB7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5zZXRQcm9wZXJ0eShkaXJlY3Rpb24sIGAke3NoaWZ0fXB4YCk7XHJcbiAgIH1cclxuXHJcbiAgIF9tYWtlR2FsbGVyeVRyYW5zcGFyZW50KCkge1xyXG4gICAgICBjb25zdCBwb3NFbCA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgY29uc3QgdHJhbnNwYXJlbnRQZXJjZXJudCA9IDAuNztcclxuICAgICAgY29uc3QgdHJhbnNwYXJlbnRQb3MgPSBwb3NFbC5oZWlnaHQgKiB0cmFuc3BhcmVudFBlcmNlcm50OyAvLyDQmtC+0LvQuNGH0LXRgdCy0YLQviDQv9C40LrRgdC10LvQtdC5LCDQutC+0LPQtNCwIG9wYWNpdHkg0LHRg9C00LXRgiAwICjQvtGCINGG0LXQvdGC0YDQsClcclxuICAgICAgdGhpcy5fJGVsLnN0eWxlLm9wYWNpdHkgPSAxIC0gTWF0aC5hYnMocG9zRWwueSkgLyB0cmFuc3BhcmVudFBvcztcclxuICAgfVxyXG5cclxuICAgX3RhcFR3aWNlRGV0ZWN0aW9uKGUpIHtcclxuICAgICAgaWYgKCF0aGlzLiN0YXBlZFR3aWNlKSB7XHJcbiAgICAgICAgIHRoaXMuI3RhcGVkVHdpY2UgPSB0cnVlO1xyXG4gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy4jdGFwZWRUd2ljZSA9IGZhbHNlO1xyXG4gICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgfVxyXG4gICAvL19fX19fX19fX19fX19fX19fX19fX19fXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbn1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgXHJcbiAgIC8vIC0tLS0tLS0tLS0t0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiy0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gRm9ybVZhbGlkLmluaXQoKTtcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLdCe0LrQvdC+INC80L7QsdC40LvRjNC90L7QuSDQvdCw0LLRiNC40YbQsNCwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgbSA9IG5ldyBNb2RhbERLKHtcclxuICAgICAgc2VsZWN0b3I6IFwiLm5hdlwiLFxyXG4gICAgICBvcGVuQnRuc1NlbGVjdG9yOiBbJ1tkYXRhLW5hbWU9XCJoZWFkZXItbW9kYWxcIl0nXSxcclxuICAgICAgZm9jdXNUcmFwOiB0cnVlLCAvLyDQotGA0LXQsdGD0LXRgtGB0Y8g0LvQuCDQv9C10YDQtdC80LXRidCw0YLRjNGB0Y8g0YLQsNCx0L7QvCDRgtC+0LvRjNC60L4g0LLQvdGD0YLRgNC4INC+0LHRitC10LrRgtCwIChkZWZhdWx0OiBmYWxzZSlcclxuICAgICAgY29sbGFwc2VPbkZvY3VzT3V0OiBmYWxzZSwgLy8g0KLRgNC10LHRg9C10YLRgdGPINC70Lgg0LfQsNC60YDRi9Cy0LDRgtGMINC/0YDQuCDQv9C+0YLQtdGA0Lgg0YTQvtC60YPRgdCwXHJcbiAgICAgIGFjdGl2ZUNsYXNzOiBcIi0tYWN0aXZlXCIsXHJcbiAgICAgIG92ZXJsYXk6IGZhbHNlLFxyXG4gICAgICBtYXRjaE1lZGlhOiBtYXRjaE1lZGlhLFxyXG5cclxuICAgICAgLy8gb25DbG9zZSgpIHtcclxuICAgICAgLy8gICAgY29uc29sZS5sb2coXCJtb2RhbCBjbG9zaW5nXCIpO1xyXG4gICAgICAvLyB9LFxyXG4gICB9KTtcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC0tLS0tLS0tLS0t0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gbSA9IG5ldyBNb2RhbERLKHtcclxuICAgLy8gICAgc2VsZWN0b3I6IFwiI21vZGFsXCIsXHJcbiAgIC8vICAgIG9wZW5CdG5zU2VsZWN0b3I6IFsnW2RhdGEtbmFtZT1cIm1vZGFsXCJdJ10sXHJcbiAgIC8vICAgIGZvY3VzVHJhcDogdHJ1ZSwgLy8g0KLRgNC10LHRg9C10YLRgdGPINC70Lgg0L/QtdGA0LXQvNC10YnQsNGC0YzRgdGPINGC0LDQsdC+0Lwg0YLQvtC70YzQutC+INCy0L3Rg9GC0YDQuCDQvtCx0YrQtdC60YLQsCAoZGVmYXVsdDogZmFsc2UpXHJcbiAgIC8vICAgIGNvbGxhcHNlT25Gb2N1c091dDogZmFsc2UsIC8vINCi0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC30LDQutGA0YvQstCw0YLRjCDQv9GA0Lgg0L/QvtGC0LXRgNC4INGE0L7QutGD0YHQsFxyXG4gICAvLyAgICBhY3RpdmVDbGFzczogXCItLWFjdGl2ZVwiLFxyXG4gICAvLyAgICBvbkNsb3NlKCkge1xyXG4gICAvLyAgICAgICBjb25zb2xlLmxvZyhcIm1vZGFsIGNsb3NpbmdcIik7XHJcbiAgIC8vICAgIH0sXHJcbiAgIC8vIH0pO1xyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0t0JPQsNC70LXRgNC10Y8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgZyA9IG5ldyBHYWxsZXJ5REsoe1xyXG4vLyAgICBzZWxlY3RvcjogXCIuZ2FsbGVyeVwiLCAvLyDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwLCDQutC+0YLQvtGA0YvQuSDQvtCx0YrQtdC00LjQvdGP0LXRgiDQstGB0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4vLyAgICBmb2N1c1RyYXA6IHRydWUsXHJcbi8vICAgIGNvbGxhcHNlT25Gb2N1c091dDogZmFsc2UsXHJcbi8vIH0pO1xyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0t0JDQvdC40LzQsNGG0LjRjyDQsdGD0YDQs9C10YDQsCDQuCDQt9Cw0L/Rg9GB0Log0YTRg9C90LrRhtC40Lkg0L/RgNC4INC30LDQs9GA0YPQt9C60LUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBjb25zdCAkZGlzY292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRpc2NvdmVyXCIpO1xyXG4gICBjb25zdCAkZGlzY292ZXJCdXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRpc2NvdmVyX19idXJnZXJcIik7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICRkaXNjb3Zlci5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZGluZ1wiKTtcclxuICAgICAgJGRpc2NvdmVyQnVyZ2VyLmNsYXNzTGlzdC5hZGQoXCJkZXNjb3Zlcl9fZmlyc3RcIik7XHJcbiAgICAgIGNvbnN0IGRpc2NvdmVyQnVyZ2VyQW5pbUxlbmd0aCA9ICRkaXNjb3ZlckJ1cmdlci5nZXRBbmltYXRpb25zKCkubGVuZ3RoO1xyXG4gICAgICBsZXQgYW5pbUNvdW50ZXIgPSAwO1xyXG4gICAgICAkZGlzY292ZXJCdXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKT0+e1xyXG4gICAgICAgICBhbmltQ291bnRlcisrO1xyXG4gICAgICAgICBpZiAoYW5pbUNvdW50ZXIgPT09IGRpc2NvdmVyQnVyZ2VyQW5pbUxlbmd0aCkge1xyXG4gICAgICAgICAgICAkZGlzY292ZXJCdXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcImRlc2NvdmVyX19maXJzdFwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRkaXNjb3ZlckJ1cmdlci5kYXRhc2V0LnR5cGUgPSBcImV4cGxvc2lvblwiO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g0LfQsNCz0YDRg9C20LDQtdC8INC40L3Qs9GA0LjQtNC40LXQvdGC0YtcclxuICAgICAgbG9hZElucmdlZGllbnRzKCk7XHJcbiAgIH0pO1xyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLdCg0LDQsdC+0YLQsCDRgSDRgtCw0LHQsNC80LgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShtYXRjaE1lZGlhKS5tYXRjaGVzKSB7XHJcbiAgICAgIGNvbnN0IHRhYkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19ib3gnKTtcclxuICAgICAgY29uc3QgdGFicyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWl0ZW0nKV07XHJcbiAgICAgIGNvbnN0IHBhbmVscyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLXBhbmVsJyldO1xyXG5cclxuICAgICAgbGV0IGFjdGl2ZVRhYkluZGV4ID0gMDtcclxuXHJcbiAgICAgIHRhYkxpc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcclxuICAgICAgdGFic1thY3RpdmVUYWJJbmRleF0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcclxuICAgICAgcGFuZWxzLmZvckVhY2goZWwgPT4gZWwuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYnBhbmVsJykpO1xyXG4gICAgICBwYW5lbHMuZmlsdGVyKChlbCwgaikgPT4gaiAhPT0gYWN0aXZlVGFiSW5kZXgpLmZvckVhY2goZWwgPT57IFxyXG4gICAgICAgICBlbC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhYnMuZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYicpO1xyXG5cclxuICAgICAgICAgY29uc3QgYSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcclxuXHJcbiAgICAgICAgIGNvbnN0IGxpbmtEaXJlY3Rpb24gPSBhLmdldEF0dHJpYnV0ZSgnaHJlZicpLnNsaWNlKDEpO1xyXG4gICAgICAgICBhLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTtcclxuICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxuICAgICAgICAgYS5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuXHJcbiAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaWQnLCAndGFiLScgKyBpKTtcclxuICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgJ3BhbmVsLScgKyBpKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGlmIChlbC5kYXRhc2V0Lm51bWJlcikgaSA9IHBhcnNlSW50KGVsLmRhdGFzZXQubnVtYmVyKTtcclxuICAgICAgICAgcGFuZWxzW2ldLnNldEF0dHJpYnV0ZSgnaWQnLCAncGFuZWwtJyArIGkpO1xyXG4gICAgICAgICBwYW5lbHNbaV0uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCAndGFiLScgKyBpKTtcclxuXHJcbiAgICAgICAgIGNvbnN0IGNsaWNrT25UYWIgPSAoZWwpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlVGFiSW5kZXggPSB0YWJzLmluZGV4T2YoZWwpO1xyXG4gICAgICAgICAgICBpZiAoZWwuZGF0YXNldC5udW1iZXIpIGFjdGl2ZVRhYkluZGV4ID0gcGFyc2VJbnQoZWwuZGF0YXNldC5udW1iZXIpO1xyXG4gICAgICAgICAgICB0YWJzW2FjdGl2ZVRhYkluZGV4XS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgICB0YWJzW2FjdGl2ZVRhYkluZGV4XS5xdWVyeVNlbGVjdG9yKCdhJykuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgcGFuZWxzW2FjdGl2ZVRhYkluZGV4XS5oaWRkZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRhYnMuZmlsdGVyKChlbCwgaikgPT4gaiAhPT0gYWN0aXZlVGFiSW5kZXgpLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgZWwucXVlcnlTZWxlY3RvcignYScpLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBhbmVscy5maWx0ZXIoKGVsLCBqKSA9PiBqICE9PSBhY3RpdmVUYWJJbmRleCkuZm9yRWFjaChlbCA9PnsgXHJcbiAgICAgICAgICAgICAgIGVsLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9O1xyXG5cclxuICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsaWNrT25UYWIoZWwpKTtcclxuICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKT0+e1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgY2xpY2tPblRhYihlbCk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgfVxyXG4gICBlbHNlIHtcclxuICAgICBjb25zdCAkYnVyZ2VyTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2l0ZW1baHJlZj1cIiNidXJnZXJcIl0nKTtcclxuICAgICBjb25zdCAkZGlzY292ZXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9faXRlbVtocmVmPVwiI2Rpc2NvdmVyXCJdJyk7XHJcbiAgICAgY29uc3QgJGJ1cmdlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidXJnZXJcIik7XHJcblxyXG4gICBcclxuICAgICAgd2luZG93Lm9uc2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgICAgICBpZiAoaXNJblZpZXdwb3J0KCRidXJnZXJFbCkpIHtcclxuICAgICAgICAgICAgJGJ1cmdlckxpbmsuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgICRkaXNjb3ZlckxpbmsucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJGRpc2NvdmVyTGluay5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgJGJ1cmdlckxpbmsucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTtcclxuICAgICAgICAgfVxyXG4gICAgIH07XHJcbiAgICBcclxuICAgfVxyXG5cclxuICAgZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsZW1lbnQpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgICAgICAgcmVjdC5sZWZ0ID49IDAgJiZcclxuICAgICAgICAgcmVjdC5ib3R0b20gPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJlxyXG4gICAgICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXHJcbiAgICAgICk7XHJcbiAgIH1cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LjQvdCz0YDQtdC00LjQtdC90YLQvtCyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgY29uc3QgJHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2NoZWNrb3V0LXN1bW1cIik7XHJcbiAgIGNvbnN0ICRzdW1tRGF0YSA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fc3VtbWFyeS1kYXRhLW5hbWVcIildO1xyXG4gICBjb25zdCBidW5zID0gW107XHJcblxyXG4gICBjb25zdCBhZGRJbnJnZWRpZW50ID0gKHBhcmFtKSA9PiB7XHJcbiAgICAgICRwcmljZS5kYXRhc2V0LnByaWNlID0gKHBhcnNlRmxvYXQoJHByaWNlLmRhdGFzZXQucHJpY2UpICsgcGFyYW0ucHJpY2UpLnRvRml4ZWQoMik7XHJcbiAgICAgICRzdW1tRGF0YS5mb3JFYWNoKCRkYXRhID0+IHtcclxuICAgICAgICAgaWYgKCRkYXRhLmRhdGFzZXQubmFtZSA9PT0gJ21pbicpICRkYXRhLmRhdGFzZXQudmFsdWUgPSAocGFyc2VGbG9hdCgkZGF0YS5kYXRhc2V0LnZhbHVlKSArIHBhcmFtLm1pbikudG9GaXhlZCgyKTtcclxuICAgICAgICAgaWYgKCRkYXRhLmRhdGFzZXQubmFtZSA9PT0gJ296JykgJGRhdGEuZGF0YXNldC52YWx1ZSA9IChwYXJzZUZsb2F0KCRkYXRhLmRhdGFzZXQudmFsdWUpICsgcGFyYW0ub3opLnRvRml4ZWQoMSk7XHJcbiAgICAgICAgIGlmICgkZGF0YS5kYXRhc2V0Lm5hbWUgPT09ICdrY2FsJykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJLY2FsID0gcGFyc2VGbG9hdCgkZGF0YS5kYXRhc2V0LnZhbHVlKSArIHBhcmFtLmtjYWw7XHJcbiAgICAgICAgICAgICRkYXRhLmRhdGFzZXQudmFsdWUgPSBjdXJLY2FsLnRvRml4ZWQoMCk7XHJcbiAgICAgICAgICAgIC8vINC/0YDQvtCy0LXRgNC60LAg0LTQu9GPINGC0L7Qs9C+LCDRh9GC0L7QsdGLINC/0L7QutCw0LfRi9Cy0LDRgtGMINGB0L7QvtCx0YnQtdC90LjQtSBcclxuICAgICAgICAgICAgdG9vZ2xlU2hvd1F1ZXN0aW9uKGN1cktjYWwpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAocGFyYW0uYW1vdW50KSBwYXJhbS5hbW91bnQuZGF0YXNldC52YWx1ZSsrO1xyXG4gICAgICBhZGRCdXJnZXJFbGVtZW50KHBhcmFtKTtcclxuXHJcbiAgICAgIFxyXG4gICB9O1xyXG5cclxuICAgY29uc3QgcmVtb3ZlSW5yZ2VkaWVudCA9IChwYXJhbSkgPT4ge1xyXG4gICAgICBpZiAocGFyYW0uYW1vdW50ICYmIHBhcnNlSW50KHBhcmFtLmFtb3VudC5kYXRhc2V0LnZhbHVlKSA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAkcHJpY2UuZGF0YXNldC5wcmljZSA9IChwYXJzZUZsb2F0KCRwcmljZS5kYXRhc2V0LnByaWNlKSAtIHBhcmFtLnByaWNlKS50b0ZpeGVkKDIpO1xyXG4gICAgICAkc3VtbURhdGEuZm9yRWFjaCgkZGF0YSA9PiB7XHJcbiAgICAgICAgIGlmICgkZGF0YS5kYXRhc2V0Lm5hbWUgPT09ICdtaW4nKSAkZGF0YS5kYXRhc2V0LnZhbHVlID0gKHBhcnNlRmxvYXQoJGRhdGEuZGF0YXNldC52YWx1ZSkgLSBwYXJhbS5taW4pLnRvRml4ZWQoMCk7XHJcbiAgICAgICAgIGlmICgkZGF0YS5kYXRhc2V0Lm5hbWUgPT09ICdveicpICRkYXRhLmRhdGFzZXQudmFsdWUgPSAocGFyc2VGbG9hdCgkZGF0YS5kYXRhc2V0LnZhbHVlKSAtIHBhcmFtLm96KS50b0ZpeGVkKDEpO1xyXG4gICAgICAgICBpZiAoJGRhdGEuZGF0YXNldC5uYW1lID09PSAna2NhbCcpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyS2NhbCA9IHBhcnNlRmxvYXQoJGRhdGEuZGF0YXNldC52YWx1ZSkgLSBwYXJhbS5rY2FsO1xyXG4gICAgICAgICAgICAkZGF0YS5kYXRhc2V0LnZhbHVlID0gY3VyS2NhbC50b0ZpeGVkKDApO1xyXG4gICAgICAgICAgICAvLyDQv9GA0L7QstC10YDQutCwINC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQv9C+0LrQsNC30YvQstCw0YLRjCDRgdC+0L7QsdGJ0LXQvdC40LUgXHJcbiAgICAgICAgICAgIHRvb2dsZVNob3dRdWVzdGlvbihjdXJLY2FsKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHBhcmFtLmFtb3VudCkgcGFyYW0uYW1vdW50LmRhdGFzZXQudmFsdWUtLTtcclxuICAgICAgcmVtb3ZlQnVyZ2VyRWxlbWVudChwYXJhbSk7XHJcbiAgIH07XHJcblxyXG4gICBmdW5jdGlvbiBsb2FkSW5yZ2VkaWVudHMoKSB7XHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luZ3JlZGllbnQnKTtcclxuICAgICAgY29uc3QgaW5ncmVkaWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5ncmVkaWVudHMnKTtcclxuICAgICAgbGV0IGRhdGE7XHJcbiAgICAgIFxyXG4gICAgICByZWFkRmlsZShcIi4uL2ZpbGVzL2RhdGEvZGF0YS5qc29uXCIsIGZ1bmN0aW9uKHRleHQpe1xyXG4gICAgICAgICBkYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcclxuICAgICAgICAgZGF0YS5mb3JFYWNoKChlbCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWwuYXV0bykge1xyXG4gICAgICAgICAgICAgICBidW5zLnB1c2goZWwpO1xyXG4gICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICBjb25zdCBjbG9uZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsb25lTmFtZSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoXCIuaW5ncmVkaWVudF9fbmFtZVwiKTtcclxuICAgICAgICAgICAgY29uc3QgY2xvbmVBZGRCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKFwiLmluZ3JlZGllbnRfX3BsdXNcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsb25lUmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcihcIi5pbmdyZWRpZW50X19taW51c1wiKTtcclxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gY2xvbmUucXVlcnlTZWxlY3RvcihcIi5pbmdyZWRpZW50X19hbW91bnRcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjbG9uZUltZy5jbGFzc0xpc3QuYWRkKFwiaW5ncmVkaWVudF9faW1nXCIpO1xyXG4gICAgICAgICAgICBjbG9uZUltZy5zcmMgPSBlbC5pbWc7XHJcbiAgICAgICAgICAgIGNsb25lTmFtZS5pbm5lckhUTUwgPSBlbC5uYW1lO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaW5ncmVkaWVudHMuYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG4gICAgICAgICAgICBjb25zdCBhcHBlbmRDbG9uZSA9IGluZ3JlZGllbnRzLnF1ZXJ5U2VsZWN0b3IoYC5pbmdyZWRpZW50Omxhc3Qtb2YtdHlwZWApO1xyXG4gICAgICAgICAgICBhcHBlbmRDbG9uZS5pbnNlcnRCZWZvcmUoY2xvbmVJbWcsIGNsb25lTmFtZSk7XHJcblxyXG4gICAgICAgICAgICBlbC5hbW91bnQgPSBhbW91bnQ7XHJcblxyXG4gICAgICAgICAgICBjbG9uZUFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkSW5yZ2VkaWVudChlbCkpO1xyXG4gICAgICAgICAgICBjbG9uZVJlbW92ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcmVtb3ZlSW5yZ2VkaWVudChlbCkpO1xyXG5cclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgIGFkZElucmdlZGllbnQoYnVuc1sxXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgIH1cclxuXHJcbiAgIGZ1bmN0aW9uIHJlYWRGaWxlKGZpbGUsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcmF3RmlsZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgcmF3RmlsZS5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgIHJhd0ZpbGUub3BlbihcIkdFVFwiLCBmaWxlLCB0cnVlKTtcclxuICAgIHJhd0ZpbGUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHJhd0ZpbGUucmVhZHlTdGF0ZSA9PT0gNCAmJiByYXdGaWxlLnN0YXR1cyA9PSBcIjIwMFwiKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJhd0ZpbGUucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgIHJhd0ZpbGUuc2VuZChudWxsKTtcclxuICAgfVxyXG5cclxuICAgXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAtLS0tLS0tLS3QlNC+0LHQsNCy0LvQtdC90LjQtSDQuNC90LPRgNC10LTQuNC10L3RgtC+0LIg0LIg0LHRg9GA0LPQtdGALS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBjb25zdCBUSU1FX1RPX0FERF9UT1BfQlVOID0gMzAwMDtcclxuXHJcbiAgIFxyXG4gICBjb25zdCAkc2NlbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fc2NlbmVcIik7XHJcbiAgIGxldCB0b3RhbEJvdHRvbSA9IDA7IC8vINGA0LDQt9C80LXRgCDQv9C10YDQstC+0LPQviDQsdC70L7QutCwINCyINC/0YDQvtGG0LXQvdGC0LDRhSDQtNC70Y8gYm90dG9tXHJcbiAgIGNvbnN0IHN0YXJ0Qm90dG9tID0gODA7IC8vINC90LDRh9Cw0LvQviDQsNC90LjQvNCw0YbQuNC4INCyINC/0YDQvtGG0LXQvdGC0LDRhSDQtNC70Y8gYm90dG9tIFxyXG4gICBsZXQgcmVtb3ZlU3RhdHVzID0gZmFsc2U7IC8vINC00LvRjyDQv9GA0L7QstC10YDQutC4INCyINC/0YDQvtGG0LXRgdGB0LUg0LvQuCDRg9C00LDQu9C10L3QuNC1XHJcbiAgIGxldCByZW1vdmVFbHMgPSBbXTsgLy8g0L7Rh9C10YDQtdC00Ywg0Y3Qu9C10LzQtdC90YLQvtCyINC90LAg0YPQtNCw0LvQtdC90LjQtVxyXG4gICAvLyDQv9GA0L7RhtC10L3RgiDQtNC70Y8g0YDQsNGB0YLRj9C20LrQuCDQsdGD0YDQs9C10YDQsCDQsiDQtNC10YHQutGC0L7QvyDQstC10YDRgdC40LhcclxuICAgY29uc3Qgd2lkdGhQZXJjZW50ID0gKCF3aW5kb3cubWF0Y2hNZWRpYShtYXRjaE1lZGlhKS5tYXRjaGVzKSA/IDAuNCA6IDA7XHJcbiAgIGxldCBhZGRXaWR0aDtcclxuXHJcbiAgIGxldCBhZGRUb3BCdW5UaW1vdXQ7XHJcbiAgIGZ1bmN0aW9uIGFkZFRvcEJ1bigpIHtcclxuICAgICAgYWRkVG9wQnVuVGltb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIGFkZElucmdlZGllbnQoYnVuc1swXSk7XHJcbiAgICAgICAgIGNsZWFyVGltZW91dChhZGRUb3BCdW5UaW1vdXQpO1xyXG4gICAgICAgICBhZGRUb3BCdW5UaW1vdXQgPSBudWxsO1xyXG4gICAgICB9LCBUSU1FX1RPX0FERF9UT1BfQlVOKTtcclxuICAgICAgXHJcbiAgIH1cclxuXHJcbiAgIGZ1bmN0aW9uIGFkZEJ1cmdlckVsZW1lbnQocGFyYW0pIHtcclxuICAgICAgY29uc3QgJGJ1cmdlckVsTGlzdCA9IFsuLi4kc2NlbmUucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX3NjZW5lLWVsZW1lbnRcIildO1xyXG4gICAgICBpZihhZGRUb3BCdW5UaW1vdXQpe1xyXG4gICAgICAgICBjbGVhclRpbWVvdXQoYWRkVG9wQnVuVGltb3V0KTtcclxuICAgICAgICAgYWRkVG9wQnVuVGltb3V0ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoJGJ1cmdlckVsTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgIGFkZFRvcEJ1bigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgkc2NlbmUucXVlcnlTZWxlY3RvcihgW2RhdGEtbmFtZT1cIiR7YnVuc1swXS5uYW1lfVwiXWApICE9PSBudWxsKSB7XHJcbiAgICAgICAgIHJlbW92ZUlucmdlZGllbnQoYnVuc1swXSk7XHJcbiAgICAgICAgIHRvdGFsQm90dG9tIC09IGJ1bnNbMF0ud2lkdGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0ICRidXJnZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGhpc0JvdHRvbSA9IHN0YXJ0Qm90dG9tICsgcGFyYW0ud2lkdGg7XHJcbiAgICAgIFxyXG4gICAgICAkYnVyZ2VyRWwuY2xhc3NMaXN0LmFkZChcImJ1cmdlcl9fc2NlbmUtZWxlbWVudFwiKTtcclxuICAgICAgJGJ1cmdlckVsLnNyYyA9IHBhcmFtLmltZ19ncm91cCA/IHBhcmFtLmltZ19ncm91cCA6IHBhcmFtLmltZztcclxuICAgICAgJGJ1cmdlckVsLnNldEF0dHJpYnV0ZShcImFsdFwiLCBwYXJhbS5uYW1lKTtcclxuICAgICAgJGJ1cmdlckVsLnNldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiLCBwYXJhbS5uYW1lKTtcclxuICAgICAgJGJ1cmdlckVsLnN0eWxlLmJvdHRvbSA9IGAke3N0YXJ0VGhpc0JvdHRvbX0lYDtcclxuICAgICAgJGJ1cmdlckVsLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cclxuICAgICAgYWRkV2lkdGggPSBwYXJhbS53aWR0aCAqIHdpZHRoUGVyY2VudDtcclxuXHJcbiAgICAgICRzY2VuZS5hcHBlbmRDaGlsZCgkYnVyZ2VyRWwpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgJGJ1cmdlckVsLnN0eWxlLmJvdHRvbSA9IGAke3RvdGFsQm90dG9tfSVgO1xyXG4gICAgICAgICAkYnVyZ2VyRWwuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgIHRvdGFsQm90dG9tICs9IHBhcmFtLndpZHRoICsgYWRkV2lkdGg7XHJcbiAgICAgIH0sIDEpO1xyXG4gICB9XHJcblxyXG4gICBmdW5jdGlvbiByZW1vdmVCdXJnZXJFbGVtZW50KHBhcmFtKSB7XHJcbiAgICAgIGlmIChyZW1vdmVTdGF0dXMpIHtcclxuICAgICAgICAgcmVtb3ZlRWxzLnB1c2gocGFyYW0pO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKGFkZFRvcEJ1blRpbW91dCl7XHJcbiAgICAgICAgIGNsZWFyVGltZW91dChhZGRUb3BCdW5UaW1vdXQpO1xyXG4gICAgICAgICBhZGRUb3BCdW5UaW1vdXQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZW1vdmVTdGF0dXMgPSB0cnVlO1xyXG4gICAgICBjb25zdCAkYnVyZ2VyRWwgPSAkc2NlbmUucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtbmFtZT1cIiR7cGFyYW0ubmFtZX1cIl1gKTtcclxuICAgICAgaWYgKCRidXJnZXJFbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgIGNvbnN0ICRidXJnZXJFbExpc3QgPSBbLi4uJHNjZW5lLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19zY2VuZS1lbGVtZW50XCIpXTtcclxuICAgICAgICAgY29uc3QgaW5kZXhPZlJlbW92ZUVsID0gJGJ1cmdlckVsTGlzdC5pbmRleE9mKCRidXJnZXJFbFskYnVyZ2VyRWwubGVuZ3RoIC0gMV0pO1xyXG5cclxuICAgICAgICAgJGJ1cmdlckVsWyRidXJnZXJFbC5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKFwiYnVyZ2VyX19zY2VuZS1lbGVtZW50LS1kZWxldGVcIik7XHJcbiAgICAgICAgICRidXJnZXJFbFskYnVyZ2VyRWwubGVuZ3RoIC0gMV0uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKT0+e1xyXG4gICAgICAgICAgICAkc2NlbmUucmVtb3ZlQ2hpbGQoJGJ1cmdlckVsWyRidXJnZXJFbC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVtb3ZlRWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgcmVtb3ZlQnVyZ2VyRWxlbWVudChyZW1vdmVFbHNbMF0pO1xyXG4gICAgICAgICAgICAgICByZW1vdmVFbHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIGFkZFdpZHRoID0gcGFyYW0ud2lkdGggKiB3aWR0aFBlcmNlbnQ7XHJcbiAgICAgICAgIHRvdGFsQm90dG9tIC09IHBhcmFtLndpZHRoIC0gYWRkV2lkdGg7XHJcblxyXG4gICAgICAgICBmb3IgKGxldCBpID0gaW5kZXhPZlJlbW92ZUVsICsgMTsgaSA8ICRidXJnZXJFbExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgJGVsZW1lbnQgPSAkYnVyZ2VyRWxMaXN0W2ldO1xyXG4gICAgICAgICAgICBjb25zdCBlbFdpZHRoID0gcGFyc2VJbnQoJGVsZW1lbnQuc3R5bGUuYm90dG9tLCAxMCkgLSBwYXJhbS53aWR0aCAtIGFkZFdpZHRoO1xyXG4gICAgICAgICAgICAkZWxlbWVudC5zdHlsZS5ib3R0b20gPSBgJHtlbFdpZHRofSVgO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLdCh0L7QvtCx0YnQtdC90LjQtSBcIllvdSBhcmUgc3VyZT9cIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIGNvbnN0ICRidXJnZXJRdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19xdWVzdGlvblwiKTtcclxuICAgY29uc3QgdG9vZ2xlU2hvd1F1ZXN0aW9uID0gKGN1cktjYWwpID0+IHtcclxuICAgICAgY29uc3QgbWF4S2NhbCA9IDMwMDA7XHJcbiAgICAgIGlmIChjdXJLY2FsID4gbWF4S2NhbCkgJGJ1cmdlclF1ZXN0aW9uLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX3F1ZXN0aW9uLS1zaG93XCIpO1xyXG4gICAgICBlbHNlICRidXJnZXJRdWVzdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYnVyZ2VyX19xdWVzdGlvbi0tc2hvd1wiKTtcclxuICAgfVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0t0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQuSDQutC10YLRh9GD0L8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIGNvbnN0ICRrZXRjaHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2tldGNodXBcIik7XHJcbiAgIGNvbnN0ICRidG5BZGRpdGlvbmFsbHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYWRkaXRpb25hbGx5XCIpO1xyXG4gICBjb25zdCAkYnRuQWRkTmFtZSA9ICRidG5BZGRpdGlvbmFsbHkucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2FkZGl0aW9uYWxseS1uYW1lXCIpO1xyXG4gICBjb25zdCBvektldGNodXBWYWx1ZSA9ICRidG5BZGRpdGlvbmFsbHkucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2FkZGl0aW9uYWxseS1wYXJhbXNcIikuZGF0YXNldC52YWx1ZTtcclxuICAgY29uc3QgJG96SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXJfX3N1bW1hcnktZGF0YS1uYW1lW2RhdGEtbmFtZT1cIm96XCJdJyk7XHJcbiAgICRidG5BZGRpdGlvbmFsbHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgJGtldGNodXAuY2xhc3NMaXN0LnRvZ2dsZShcImJ1cmdlcl9fa2V0Y2h1cC0tc2hvd1wiKTtcclxuICAgICAgaWYgKCRidG5BZGROYW1lLmRhdGFzZXQuY29udGVudCA9PT0gXCIrXCIpIHtcclxuICAgICAgICAgJGJ0bkFkZE5hbWUuZGF0YXNldC5jb250ZW50ID0gXCItXCI7XHJcbiAgICAgICAgICRvekl0ZW0uZGF0YXNldC52YWx1ZSA9IChwYXJzZUZsb2F0KCRvekl0ZW0uZGF0YXNldC52YWx1ZSkgKyBwYXJzZUZsb2F0KG96S2V0Y2h1cFZhbHVlKSkudG9GaXhlZCgxKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAgJGJ0bkFkZE5hbWUuZGF0YXNldC5jb250ZW50ID0gXCIrXCI7XHJcbiAgICAgICAgICRvekl0ZW0uZGF0YXNldC52YWx1ZSA9IChwYXJzZUZsb2F0KCRvekl0ZW0uZGF0YXNldC52YWx1ZSkgLSBwYXJzZUZsb2F0KG96S2V0Y2h1cFZhbHVlKSkudG9GaXhlZCgxKVxyXG4gICAgICB9XHJcbiAgIH0pXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcblxyXG5cclxufSkoKTtcclxuIl0sIm5hbWVzIjpbIm1hdGNoTWVkaWEiLCJOb2RhREsiLCJfS0VZUyIsIkVTQyIsIlNQQUNFIiwiRU5URVIiLCJUQUIiLCJBUlJPV19MRUZUIiwiQVJST1dfVVAiLCJBUlJPV19SSUdIVCIsIkFSUk9XX0RPV04iLCIjZm9jdXNhYmxlRWxlbWVudHMiLCIjZGVmYXVsdE9wdGlvbnMiLCJmb2N1c1RyYXAiLCJjb2xsYXBzZU9uRm9jdXNPdXQiLCIjZGVzdHJveWVkIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwidGhpcyIsIl9vcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiXyRlbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlbGVjdG9yIiwiI2NoZWNrIiwiX2dldEZvY3VzYWJsZUNvbnRlbnQiLCJfJGxhc3RGb2N1c2FibGVFbCIsIiNpbml0IiwiX2hhc0Vycm9ycyIsIndpbmRvdyIsIm1hdGNoZXMiLCJjb25zb2xlIiwiZXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX21haW5FbENsaWNrIiwiZSIsIl9jaGVja1ByZXNzIiwidGFiSW5kZXgiLCJfJGZvY3VzYWJsZUNvbnRlbnQiLCJmaWx0ZXIiLCJlbCIsIiNmb2N1c1RyYXBBbmRDb2xsYXBzZSIsImZpcnN0Rm9jdXNhYmxlRWwiLCJsYXN0Rm9jdXNhYmxlRWwiLCJsZW5ndGgiLCJuZWVkTGFzdEZvY3VzYWJsZUVsIiwic2hpZnRLZXkiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXMiLCJjbG9zZSIsInByZXZlbnREZWZhdWx0Iiwia2V5Q29kZSIsImtleSIsInRhcmdldCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZW4iLCJhY3RpdmVDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsInNsaWNlIiwicmVtb3ZlQXR0cmlidXRlIiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJkZXN0cm95IiwicmVtb3ZlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm0iLCJvdmVybGF5Iiwib3ZlcmxheUJnIiwib3ZlcmxheVppbmRleCIsIiNPVkVSTEFZX0FOSU1UQUlPTl9USU1FIiwiIyRhY3RpdmVPcGVuQnRuIiwic3VwZXIiLCJfJG9wZW5CdG5zIiwib3BlbkJ0bnNTZWxlY3RvciIsImNyZWF0ZUVsZW1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb3NpdGlvbiIsImluc2V0Iiwib3BhY2l0eSIsInpJbmRleCIsInRyYW5zaXRpb24iLCJiaW5kIiwidG9TdHJpbmciLCJwYXJzZUludCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJmb3JFYWNoIiwiZWxlbWVudCIsIm9wZW5CdG4iLCJzZXRUaW1lb3V0IiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0TGFzdCIsIm9uQ2xvc2UiLCIkZGlzY292ZXIiLCIkZGlzY292ZXJCdXJnZXIiLCJldmVudCIsImRpc2NvdmVyQnVyZ2VyQW5pbUxlbmd0aCIsImdldEFuaW1hdGlvbnMiLCJsZXQiLCJhbmltQ291bnRlciIsInR5cGUiLCJ0ZW1wbGF0ZSIsImluZ3JlZGllbnRzIiwiZGF0YSIsImZpbGUiLCJjYWxsYmFjayIsInJhd0ZpbGUiLCJYTUxIdHRwUmVxdWVzdCIsIm92ZXJyaWRlTWltZVR5cGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsInJlYWRGaWxlIiwidGV4dCIsIkpTT04iLCJwYXJzZSIsImkiLCJhdXRvIiwiYnVucyIsInB1c2giLCJjbG9uZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjbG9uZUltZyIsImNsb25lTmFtZSIsImNsb25lQWRkQnRuIiwiY2xvbmVSZW1vdmVCdG4iLCJhbW91bnQiLCJzcmMiLCJpbWciLCJpbm5lckhUTUwiLCJuYW1lIiwiYXBwZW5kQ2hpbGQiLCJhcHBlbmRDbG9uZSIsImFkZElucmdlZGllbnQiLCJyZW1vdmVJbnJnZWRpZW50IiwibG9hZElucmdlZGllbnRzIiwiJGJ1cmdlckxpbmsiLCIkZGlzY292ZXJMaW5rIiwiJGJ1cmdlckVsIiwib25zY3JvbGwiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwicmlnaHQiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJpc0luVmlld3BvcnQiLCJ0YWJMaXN0IiwidGFicyIsInBhbmVscyIsImFjdGl2ZVRhYkluZGV4IiwiaiIsImhpZGRlbiIsImEiLCJudW1iZXIiLCJjbGlja09uVGFiIiwiaW5kZXhPZiIsIiRwcmljZSIsIiRzdW1tRGF0YSIsInByaWNlIiwicGFyc2VGbG9hdCIsInBhcmFtIiwidG9GaXhlZCIsIiRkYXRhIiwidmFsdWUiLCJtaW4iLCJveiIsImN1cktjYWwiLCJrY2FsIiwidG9vZ2xlU2hvd1F1ZXN0aW9uIiwiJGJ1cmdlckVsTGlzdCIsIiRzY2VuZSIsImFkZFRvcEJ1blRpbW91dCIsImNsZWFyVGltZW91dCIsIlRJTUVfVE9fQUREX1RPUF9CVU4iLCJ0b3RhbEJvdHRvbSIsIndpZHRoIiwic3RhcnRUaGlzQm90dG9tIiwic3RhcnRCb3R0b20iLCJpbWdfZ3JvdXAiLCJhZGRXaWR0aCIsIndpZHRoUGVyY2VudCIsImFkZEJ1cmdlckVsZW1lbnQiLCJyZW1vdmVCdXJnZXJFbGVtZW50IiwicmVtb3ZlU3RhdHVzIiwicmVtb3ZlRWxzIiwiaW5kZXhPZlJlbW92ZUVsIiwicmVtb3ZlQ2hpbGQiLCJzaGlmdCIsIiRlbGVtZW50IiwiZWxXaWR0aCIsIiRidXJnZXJRdWVzdGlvbiIsIiRrZXRjaHVwIiwiJGJ0bkFkZGl0aW9uYWxseSIsIiRidG5BZGROYW1lIiwib3pLZXRjaHVwVmFsdWUiLCIkb3pJdGVtIiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoiQ0FFQSxXQUVHLElBQU1BLEVBQWEsMkJBdUxoQkMsRUFDSEMsTUFBUSxDQUNMQyxJQUFLLEdBQ0xDLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxJQUFLLEVBQ0xDLFdBQVksR0FDWkMsU0FBVSxHQUNWQyxZQUFhLEdBQ2JDLFdBQVksSUFFZkMsbUJBQXFCLG1QQUNyQkMsZ0JBQWtCLENBQ2ZDLFdBQVcsRUFDWEMsb0JBQW9CLEdBR3ZCQyxZQUFhLEVBRWJDLFlBQVlDLEdBQ1RDLEtBQUtDLFNBQVdDLE9BQU9DLE9BQU9ILEtBQUtOLGdCQUFp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
